var e,t,n=require("atom-package-deps"),r=b(require("path")),i=require("url").parse,o=require("assert"),s=o,a=b(o),u=b(require("react-dom")),l=require("react"),c=(e={},t=l,Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})})),e),f=b(l),h=l.useEffect,p=l.useState,d=require("electron").shell,g=require("atom"),v=g.CompositeDisposable,m=g.Disposable,y=g.Emitter,_=g.Range;function b(e){return e&&e.__esModule?e.default:e}function w(e,t,n){Object.defineProperty(e,t,{get:n,enumerable:!0})}var k="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};let x=null;const E={error:3,warning:2,info:1},S={error:"Error",warning:"Warning",info:"Info"},P=["center","bottom"];function A(e){return e.location.position}function C(e){return e.location.file}function z(e){return atom.project.relativizePath(C(e)||"")[1]}function R(){let e=atom.workspace.getCenter().getActivePaneItem();const t=null!==e&&atom.workspace.isTextEditor(e);return!t&&e&&x&&e.getURI&&"atom://linter-ui-default"===e.getURI()&&(!x.isAlive||x.isAlive())?e=x:x=e,t?e:null}function I(e,t,n=null){const r=[];return e.forEach((function(e){e&&e.location&&(null!==t&&C(e)!==t||n&&e.severity!==n||r.push(e))})),r}function T(e,t,n){const r=[],i="Point"===n.constructor.name?new _(n,n):_.fromObject(n);return e.forEach((function(e){const n=C(e),o=A(e);n&&o&&n===t&&"function"==typeof o.intersectsWith&&o.intersectsWith(i)&&r.push(e)})),r}function j(e,t){const n={searchAllPanes:!0};t&&(n.initialLine=t.row,n.initialColumn=t.column),atom.workspace.open(e,n)}function $(e,t=!1){let n,r;if(t){if(!e.reference||!e.reference.file)return void console.warn("[Linter-UI-Default] Message does not have a valid reference. Ignoring");n=e.reference.file,r=e.reference.position}else{const t=A(e);n=C(e),t&&(r=t.start)}n&&j(n,r)}function L(e){2===e.version&&e.url&&d.openExternal(e.url)}function O(e,t){const n={};return e.forEach((function(e){n[e.column]=e.type})),t.slice().sort((function(e,t){if(n.severity){const r="asc"===n.severity?1:-1,i=E[e.severity],o=E[t.severity];if(i!==o)return r*(i>o?1:-1)}if(n.linterName){const r="asc"===n.linterName?1:-1,i=e.severity.localeCompare(t.severity);if(0!==i)return r*i}if(n.file){const r="asc"===n.file?1:-1,i=z(e),o=i.length,s=z(t),a=s.length;if(o!==a)return r*(o>a?1:-1);if(i!==s)return r*i.localeCompare(s)}if(n.line){const r="asc"===n.line?1:-1,i=A(e),o=A(t);if(i&&!o)return 1;if(o&&!i)return-1;if(i&&o){if(i.start.row!==o.start.row)return r*(i.start.row>o.start.row?1:-1);if(i.start.column!==o.start.column)return r*(i.start.column>o.start.column?1:-1)}}return 0}))}function B(e){return e.sort((function(e,t){return void 0===e.priority||void 0===t.priority?0:t.priority-e.priority}))}function M(e,t){if("apply"in t)return t.apply(),!0;const n=t.position,r=t.replaceWith;if("currentText"in t){const r=t.currentText,i=e.getTextInBufferRange(n);if(r!==i)return console.warn("[linter-ui-default] Not applying fix because text did not match the expected one","expected",r,"but got",i),!1}return e.setTextInBufferRange(n,r),!0}class D{constructor(){let e;this.emitter=new y,this.messages=[],this.filteredMessages=[],this.subscriptions=new v,this.subscriptions.add(atom.config.observe("linter-ui-default.panelRepresents",(e=>{const t=void 0!==this.panelRepresents;this.panelRepresents=e,t&&this.update()}))),this.subscriptions.add(atom.workspace.getCenter().observeActivePaneItem((()=>{e&&(e.dispose(),e=null);const t=R();if(t){"Entire Project"!==this.panelRepresents&&this.update();let n=-1;e=t.onDidChangeCursorPosition((({newBufferPosition:e})=>{n!==e.row&&"Current Line"===this.panelRepresents&&(n=e.row,this.update())}))}("Entire Project"!==this.panelRepresents||t)&&this.update()}))),this.subscriptions.add(new m((function(){e&&e.dispose()})))}getFilteredMessages(){let e=[];if("Entire Project"===this.panelRepresents)e=this.messages;else if("Current File"===this.panelRepresents){const t=R();if(!t)return[];e=I(this.messages,t.getPath())}else if("Current Line"===this.panelRepresents){const t=R();if(!t)return[];const n=t.getCursors()[0].getBufferRow();e=T(this.messages,t.getPath(),_.fromObject([[n,0],[n,1/0]]))}return e}update(e=null){Array.isArray(e)&&(this.messages=e),this.filteredMessages=this.getFilteredMessages(),this.emitter.emit("observe-messages",this.filteredMessages)}onDidChangeMessages(e){return this.emitter.on("observe-messages",e)}dispose(){this.subscriptions.dispose()}}var N,W,U,F=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),q=(U=c)&&U.__esModule?U:{default:U},H={};Object.defineProperty(H,"__esModule",{value:!0});var Z=void 0;H.ARROW=Z;var V=function(e){(0,K.default)(Array.isArray(e.rows),"rows must be an Array"),(0,K.default)(Array.isArray(e.columns),"columns must be an Array"),(0,K.default)(!e.sortInfo||Array.isArray(e.sortInfo),"sortInfo must be an Array"),(0,K.default)("function"==typeof e.sort,"sort must be a function"),(0,K.default)("function"==typeof e.rowKey,"rowKey must be a function"),(0,K.default)("function"==typeof e.renderHeaderColumn,"renderHeaderColumn must be a function"),(0,K.default)("function"==typeof e.renderBodyColumn,"renderBodyColumn must be a function")};H.validateProps=V;var K=function(e){return e&&e.__esModule?e:{default:e}}(s);Z={UP:"↑",DOWN:"↓",BOTH:"⇅"},H.ARROW=Z;function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var J=b((W=N=function(e){function t(){var e,n,r;G(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=r=Y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={sort:null},Y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,q.default.Component),F(t,[{key:"getSort",value:function(){return this.state.sort||this.props.initialSort||[]}},{key:"findSortItemByKey",value:function(e){var t=this.getSort();if(Array.isArray(t))for(var n=0,r=t.length;n<r;++n)if(t[n].column===e)return n;return-1}},{key:"generateSortCallback",value:function(e){var t=this;return function(n){var r=t.getSort(),i=n.shiftKey,o=t.findSortItemByKey(e);if(o<0){var s={column:e,type:"asc"};(r=i?r:[]).push(s)}else{var a=r[o];a.type="asc"===a.type?"desc":null,i?a.type||r.splice(o,1):r=a.type?[a]:[]}t.setState({sort:r})}}},{key:"renderHeaderIcon",value:function(e){var t=this.getSort(),n=t?this.findSortItemByKey(e):-1,r=H.ARROW.BOTH;return t&&-1!==n&&(r="asc"===t[n].type?H.ARROW.UP:H.ARROW.DOWN),q.default.createElement("span",{className:"sort-icon"},r)}},{key:"render",value:function(){var e=this,n=this.props,r=n.rows,i=n.columns,o=n.className,s=void 0===o?"":o,a=n.rowKey,u=n.sort,l=n.renderHeaderColumn,c=void 0===l?t.defaultHeaderRenderer:l,f=n.renderBodyColumn,h=void 0===f?t.defaultBodyRenderer:f;(0,H.validateProps)(this.props);var p=r,d=this.getSort();return d.length&&(p=u(d,p)),q.default.createElement("table",{className:"sb-table "+s,style:this.props.style},q.default.createElement("thead",null,q.default.createElement("tr",null,i.map((function(t){return q.default.createElement("th",{key:t.key,className:t.sortable&&"sortable",onClick:t.sortable&&e.generateSortCallback(t.key)},c(t)," ",t.sortable&&e.renderHeaderIcon(t.key))})))),q.default.createElement("tbody",null,p.map((function(e){var t=a(e);return q.default.createElement("tr",{key:t},i.map((function(n){var r=n.onClick,i=r&&function(t){r(t,e)};return q.default.createElement("td",{onClick:i,key:t+"."+n.key},h(e,n.key))})))}))))}}],[{key:"defaultHeaderRenderer",value:function(e){if("string"!=typeof e)throw new Error("Non-string header array fed to sb-react-table without renderHeaderColumn prop");return e}},{key:"defaultBodyRenderer",value:function(e,t){var n=e[t];if("string"!=typeof n)throw new Error("Non-predictable rows fed to sb-react-table without renderBodyColumn prop");return n}}]),t}(),N.defaultProps={style:null,className:null,initialSort:null},W));function X(e){const[t,n]=p({messages:e.delegate.filteredMessages});function r(e,t){"A"!==e.target.tagName&&(("darwin"===process.platform?e.metaKey:e.ctrlKey)?e.shiftKey?L(t):$(t,!0):$(t))}h((()=>{e.delegate.onDidChangeMessages((e=>{n({messages:e})}))}),[]);const{delegate:i}=e,o=[{key:"severity",label:"Severity",sortable:!0},{key:"linterName",label:"Provider",sortable:!0},{key:"excerpt",label:"Description",onClick:r},{key:"line",label:"Line",sortable:!0,onClick:r}];"Entire Project"===i.panelRepresents&&o.push({key:"file",label:"File",sortable:!0,onClick:r});return f.createElement("div",{id:"linter-panel",tabIndex:-1,style:{overflowY:"scroll",height:"100%"}},f.createElement(J,{rows:t.messages,columns:o,initialSort:[{column:"severity",type:"desc"},{column:"file",type:"asc"},{column:"line",type:"asc"}],sort:O,rowKey:e=>e.key,renderHeaderColumn:e=>e.label,renderBodyColumn:function(e,t){const n=A(e);switch(t){case"file":return z(e);case"line":return n?`${n.start.row+1}:${n.start.column+1}`:"";case"excerpt":return e.excerpt;case"severity":return S[e.severity];default:return e[t]}},style:{width:"100%"},className:"linter"}))}function Q(e){const t=atom.workspace.paneContainerForItem(e);return t&&"object"==typeof t.state&&"number"==typeof t.state.size&&"function"==typeof t.render?t:null}class ee{constructor(e){this.element=document.createElement("div"),this.subscriptions=new v,this.alwaysTakeMinimumSpace=!0,this.subscriptions.add(atom.config.observe("linter-ui-default.panelHeight",(e=>{const t="number"==typeof this.panelHeight;this.panelHeight=e,t&&this.doPanelResize(!0)}))),this.subscriptions.add(atom.config.observe("linter-ui-default.alwaysTakeMinimumSpace",(e=>{this.alwaysTakeMinimumSpace=e}))),this.doPanelResize(),u.render(f.createElement(X,{delegate:e}),this.element)}doPanelResize(e=!1){const t=Q(this);let n=null;const r=atom.views.getView(t);if(r&&this.alwaysTakeMinimumSpace){const e=r.querySelector(".list-inline.tab-bar.inset-panel"),t=e?e.getClientRects()[0]:null,i=this.element.querySelector("table"),o=i?i.getClientRects()[0]:null;t&&o&&(n=t.height+o.height+1)}if(t){let r=null;const i=null===n||e?this.panelHeight:Math.min(n,this.panelHeight);null===this.lastSetPaneHeight||t.state.size===this.lastSetPaneHeight||e||(r=t.state.size),this.lastSetPaneHeight=i,t.state.size=i,t.render(t.state),null!==r&&atom.config.set("linter-ui-default.panelHeight",r)}}getURI(){return"atom://linter-ui-default"}getTitle(){return"Linter"}getDefaultLocation(){return"bottom"}getAllowedLocations(){return P}getPreferredHeight(){return atom.config.get("linter-ui-default.panelHeight")}dispose(){this.subscriptions.dispose();const e=Q(this);e&&!this.alwaysTakeMinimumSpace&&e.state.size!==this.panelHeight&&(atom.config.set("linter-ui-default.panelHeight",e.state.size),e.paneForItem(this).destroyItem(this,!0))}}class te{constructor(){this.panel=null,this.element=document.createElement("div"),this.delegate=new D,this.messages=[],this.deactivating=!1,this.subscriptions=new v,this.showPanelConfig=!0,this.hidePanelWhenEmpty=!0,this.showPanelStateMessages=!1,this.subscriptions.add(this.delegate),this.subscriptions.add(atom.config.observe("linter-ui-default.hidePanelWhenEmpty",(e=>{this.hidePanelWhenEmpty=e,this.refresh()}))),this.subscriptions.add(atom.workspace.onDidDestroyPane((({pane:e})=>{e.getItems().includes(this.panel)&&!this.deactivating&&(this.panel=null,atom.config.set("linter-ui-default.showPanel",!1))}))),this.subscriptions.add(atom.workspace.onDidDestroyPaneItem((({item:e})=>{e instanceof ee&&!this.deactivating&&(this.panel=null,atom.config.set("linter-ui-default.showPanel",!1))}))),this.subscriptions.add(atom.config.observe("linter-ui-default.showPanel",(e=>{this.showPanelConfig=e,this.refresh()}))),this.subscriptions.add(atom.workspace.getCenter().observeActivePaneItem((()=>{this.showPanelStateMessages=!!this.delegate.filteredMessages.length,this.refresh()}))),this.activationTimer=window.requestIdleCallback((()=>{let e=!0;const t=atom.workspace.getBottomDock();this.subscriptions.add(t.onDidChangeActivePaneItem((t=>{if(!this.panel||"bottom"!==this.getPanelLocation())return;if(e)return void(e=!1);t===this.panel!==this.showPanelConfig&&atom.config.set("linter-ui-default.showPanel",!this.showPanelConfig)}))),this.subscriptions.add(t.onDidChangeVisible((e=>{if(!this.panel||"bottom"!==this.getPanelLocation())return;if(!e&&this.showPanelConfig&&this.hidePanelWhenEmpty&&!this.showPanelStateMessages)return;if(t.getActivePaneItem()!==this.panel)return;e!==this.showPanelConfig&&atom.config.set("linter-ui-default.showPanel",!this.showPanelConfig)}))),this.activate()}))}getPanelLocation(){if(!this.panel)return null;const e=atom.workspace.paneContainerForItem(this.panel);return e&&e.location||null}async activate(){this.panel||(this.panel=new ee(this.delegate),await atom.workspace.open(this.panel,{activatePane:!1,activateItem:!1,searchAllPanes:!0}),this.update(),this.refresh())}update(e=null){e&&(this.messages=e),this.delegate.update(this.messages),this.showPanelStateMessages=!!this.delegate.filteredMessages.length,this.refresh()}async refresh(){const e=this.panel;if(null===e)return void(this.showPanelConfig&&await this.activate());const t=atom.workspace.paneContainerForItem(e);if(!t||"bottom"!==t.location)return;const n=t.getActivePaneItem()===e,r=this.showPanelConfig,i=!this.hidePanelWhenEmpty||this.showPanelStateMessages;r&&i?(n||t.paneForItem(e).activateItem(e),t.show(),e.doPanelResize()):n&&t.hide()}dispose(){this.deactivating=!0,this.panel&&this.panel.dispose(),this.subscriptions.dispose(),window.cancelIdleCallback(this.activationTimer)}}class ne{constructor(){this.messages=[],this.subscriptions=new v,this.subscriptions.add(atom.commands.add("atom-workspace",{"linter-ui-default:next":()=>this.move(!0,!0),"linter-ui-default:previous":()=>this.move(!1,!0),"linter-ui-default:next-error":()=>this.move(!0,!0,"error"),"linter-ui-default:previous-error":()=>this.move(!1,!0,"error"),"linter-ui-default:next-warning":()=>this.move(!0,!0,"warning"),"linter-ui-default:previous-warning":()=>this.move(!1,!0,"warning"),"linter-ui-default:next-info":()=>this.move(!0,!0,"info"),"linter-ui-default:previous-info":()=>this.move(!1,!0,"info"),"linter-ui-default:next-in-current-file":()=>this.move(!0,!1),"linter-ui-default:previous-in-current-file":()=>this.move(!1,!1),"linter-ui-default:next-error-in-current-file":()=>this.move(!0,!1,"error"),"linter-ui-default:previous-error-in-current-file":()=>this.move(!1,!1,"error"),"linter-ui-default:next-warning-in-current-file":()=>this.move(!0,!1,"warning"),"linter-ui-default:previous-warning-in-current-file":()=>this.move(!1,!1,"warning"),"linter-ui-default:next-info-in-current-file":()=>this.move(!0,!1,"info"),"linter-ui-default:previous-info-in-current-file":()=>this.move(!1,!1,"info"),"linter-ui-default:toggle-panel":()=>this.togglePanel(),"linter-ui-default:expand-tooltip":function(){},"linter-ui-default:collapse-tooltip":function(){}})),this.subscriptions.add(atom.commands.add("atom-text-editor:not([mini])",{"linter-ui-default:apply-all-solutions":()=>this.applyAllSolutions()})),this.subscriptions.add(atom.commands.add("#linter-panel",{"core:copy":()=>{const e=document.getSelection();e&&atom.clipboard.write(e.toString())}}))}togglePanel(){atom.config.set("linter-ui-default.showPanel",!atom.config.get("linter-ui-default.showPanel"))}applyAllSolutions(){const e=R();a(e,"textEditor was null on a command supposed to run on text-editors only");O([{column:"line",type:"desc"}],I(this.messages,e.getPath())).forEach((function(t){2===t.version&&t.solutions&&t.solutions.length&&M(e,B(t.solutions)[0])}))}move(e,t,n=null){const r=R(),i=r&&r.getPath()||NaN,o=O([{column:"file",type:"asc"},{column:"line",type:"asc"}],I(this.messages,t?null:i,n)),s=e?-1:1;if(!r){const t=e?o[0]:o[o.length-1];return void(t&&$(t))}const a=r.getCursorBufferPosition();e||o.reverse();let u=null,l=!1;for(let e=0,t=o.length;e<t;e++){const t=o[e],n=C(t),r=A(t);if(l||n!==i||(l=!0),n&&r){if(l&&n!==i){u=t;break}if(n===i&&a.compare(r.start)===s){u=t;break}}}!u&&o.length&&(u=o[0]),u&&$(u)}update(e){this.messages=e}dispose(){this.subscriptions.dispose()}}function re(e){const t=document.createElement("a");return t.classList.add(`icon-${e}`),t.appendChild(document.createTextNode("")),t}class ie{constructor(){this.item=document.createElement("div"),this.itemErrors=re("stop"),this.itemWarnings=re("alert"),this.itemInfos=re("info"),this.emitter=new y,this.subscriptions=new v,this.item.appendChild(this.itemErrors),this.item.appendChild(this.itemWarnings),this.item.appendChild(this.itemInfos),this.item.classList.add("inline-block"),this.item.classList.add("linter-status-count"),this.subscriptions.add(this.emitter),this.subscriptions.add(atom.tooltips.add(this.itemErrors,{title:"Linter Errors"})),this.subscriptions.add(atom.tooltips.add(this.itemWarnings,{title:"Linter Warnings"})),this.subscriptions.add(atom.tooltips.add(this.itemInfos,{title:"Linter Infos"})),this.itemErrors.onclick=()=>this.emitter.emit("click","error"),this.itemWarnings.onclick=()=>this.emitter.emit("click","warning"),this.itemInfos.onclick=()=>this.emitter.emit("click","info"),this.update(0,0,0)}setVisibility(e,t){t?this.item.classList.remove(`hide-${e}`):this.item.classList.add(`hide-${e}`)}update(e,t,n){this.itemErrors.childNodes[0].textContent=String(e),this.itemWarnings.childNodes[0].textContent=String(t),this.itemInfos.childNodes[0].textContent=String(n),e?this.itemErrors.classList.add("text-error"):this.itemErrors.classList.remove("text-error"),t?this.itemWarnings.classList.add("text-warning"):this.itemWarnings.classList.remove("text-warning"),n?this.itemInfos.classList.add("text-info"):this.itemInfos.classList.remove("text-info")}onDidClick(e){return this.emitter.on("click",e)}dispose(){this.subscriptions.dispose()}}class oe{constructor(){this.element=new ie,this.messages=[],this.subscriptions=new v,this.subscriptions.add(this.element),this.subscriptions.add(atom.config.observe("linter-ui-default.statusBarRepresents",(e=>{const t=void 0!==this.statusBarRepresents;this.statusBarRepresents=e,t&&this.update()}))),this.subscriptions.add(atom.config.observe("linter-ui-default.statusBarClickBehavior",(e=>{const t=void 0!==this.statusBarClickBehavior;this.statusBarClickBehavior=e,t&&this.update()}))),this.subscriptions.add(atom.config.observe("linter-ui-default.showStatusBar",(e=>{this.element.setVisibility("config",e)}))),this.subscriptions.add(atom.workspace.getCenter().observeActivePaneItem((e=>{const t=atom.workspace.isTextEditor(e);this.element.setVisibility("pane",t),t&&"Current File"===this.statusBarRepresents&&this.update()}))),this.element.onDidClick((e=>{const t=atom.views.getView(atom.workspace);if("Toggle Panel"===this.statusBarClickBehavior)atom.commands.dispatch(t,"linter-ui-default:toggle-panel");else if("Toggle Status Bar Scope"===this.statusBarClickBehavior)atom.config.set("linter-ui-default.statusBarRepresents","Entire Project"===this.statusBarRepresents?"Current File":"Entire Project");else{const n="Current File"===this.statusBarRepresents?"-in-current-file":"";atom.commands.dispatch(t,`linter-ui-default:next-${e}${n}`)}}))}update(e=null){e?this.messages=e:e=this.messages;const t={error:0,warning:0,info:0},n=R(),r=n&&n.getPath()||NaN;e.forEach((e=>{"Entire Project"!==this.statusBarRepresents&&C(e)!==r||("error"===e.severity?t.error++:"warning"===e.severity?t.warning++:t.info++)})),this.element.update(t.error,t.warning,t.info)}attach(e){let t=null;this.subscriptions.add(atom.config.observe("linter-ui-default.statusBarPosition",(n=>{t&&t.destroy(),t=e[`add${n}Tile`]({item:this.element.item,priority:"Left"===n?0:1e3})}))),this.subscriptions.add(new m((function(){t&&t.destroy()})))}dispose(){this.subscriptions.dispose()}}class se{constructor(){this.executing=new Set,this.providerTitles=new Set,this.useBusySignal=!0,this.subscriptions=new v,this.subscriptions.add(atom.config.observe("linter-ui-default.useBusySignal",(e=>{this.useBusySignal=e})))}attach(e){this.provider=e.create(),this.update()}update(){const e=this.provider;if(!e)return;if(!this.useBusySignal)return;const t=new Map,n=new Set;for(const{filePath:e,linter:n}of this.executing){let r=t.get(e);r||t.set(e,r=[]),r.push(n.name)}for(const[r,i]of t){const t=r?` on ${atom.project.relativizePath(r)[1]}`:"";i.forEach((r=>{const i=`${r}${t}`;n.add(i),this.providerTitles.has(i)||(this.providerTitles.add(i),e.add(i))}))}this.providerTitles.forEach((t=>{n.has(t)||(e.remove(t),this.providerTitles.delete(t))})),t.clear()}getExecuting(e,t){for(const n of this.executing)if(n.linter===e&&n.filePath===t)return n;return null}didBeginLinting(e,t){this.getExecuting(e,t)||(this.executing.add({linter:e,filePath:t}),this.update())}didFinishLinting(e,t){const n=this.getExecuting(e,t);n&&(this.executing.delete(n),this.update())}dispose(){this.provider&&this.provider.clear(),this.providerTitles.clear(),this.executing.clear(),this.subscriptions.dispose()}}class ae{constructor(){this.messages=[],this.grammarScopes=["*"]}getIntentions({textEditor:e,bufferPosition:t}){let n=[];const r=I(this.messages,e.getPath());for(const i of r){if(!(i.solutions&&i.solutions.length))continue;const r=A(i);if(!(r&&r.containsPoint(t)))continue;let o=[];2===i.version&&i.solutions&&i.solutions.length&&(o=i.solutions);const s=i.linterName||"Linter";n=n.concat(o.map((t=>({priority:t.priority?t.priority+200:200,icon:"tools",title:t.title||`Fix ${s} issue`,selected(){M(e,t)}}))))}return n}update(e){this.messages=e}}var ue,le=function(){var e=this,t={exports:this};return function(){var n,r="Expected a function",i="__lodash_hash_undefined__",o="__lodash_placeholder__",s=16,a=32,u=64,l=128,c=256,f=1/0,h=9007199254740991,p=NaN,d=4294967295,g=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",s],["flip",512],["partial",a],["partialRight",u],["rearg",c]],v="[object Arguments]",m="[object Array]",y="[object Boolean]",_="[object Date]",b="[object Error]",w="[object Function]",x="[object GeneratorFunction]",E="[object Map]",S="[object Number]",P="[object Object]",A="[object Promise]",C="[object RegExp]",z="[object Set]",R="[object String]",I="[object Symbol]",T="[object WeakMap]",j="[object ArrayBuffer]",$="[object DataView]",L="[object Float32Array]",O="[object Float64Array]",B="[object Int8Array]",M="[object Int16Array]",D="[object Int32Array]",N="[object Uint8Array]",W="[object Uint8ClampedArray]",U="[object Uint16Array]",F="[object Uint32Array]",q=/\b__p \+= '';/g,H=/\b(__p \+=) '' \+/g,Z=/(__e\(.*?\)|\b__t\)) \+\n'';/g,V=/&(?:amp|lt|gt|quot|#39);/g,K=/[&<>"']/g,G=RegExp(V.source),Y=RegExp(K.source),J=/<%-([\s\S]+?)%>/g,X=/<%([\s\S]+?)%>/g,Q=/<%=([\s\S]+?)%>/g,ee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,te=/^\w*$/,ne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,re=/[\\^$.*+?()[\]{}|]/g,ie=RegExp(re.source),oe=/^\s+|\s+$/g,se=/^\s+/,ae=/\s+$/,ue=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,le=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,fe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,he=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,de=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,me=/^\[object .+?Constructor\]$/,ye=/^0o[0-7]+$/i,_e=/^(?:0|[1-9]\d*)$/,be=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,we=/($^)/,ke=/['\n\r\u2028\u2029\\]/g,xe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ee="\\u2700-\\u27bf",Se="a-z\\xdf-\\xf6\\xf8-\\xff",Pe="A-Z\\xc0-\\xd6\\xd8-\\xde",Ae="\\ufe0e\\ufe0f",Ce="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ze="['’]",Re="[\\ud800-\\udfff]",Ie="["+Ce+"]",Te="["+xe+"]",je="\\d+",$e="[\\u2700-\\u27bf]",Le="["+Se+"]",Oe="[^\\ud800-\\udfff"+Ce+je+Ee+Se+Pe+"]",Be="\\ud83c[\\udffb-\\udfff]",Me="[^\\ud800-\\udfff]",De="(?:\\ud83c[\\udde6-\\uddff]){2}",Ne="[\\ud800-\\udbff][\\udc00-\\udfff]",We="["+Pe+"]",Ue="(?:"+Le+"|"+Oe+")",Fe="(?:"+We+"|"+Oe+")",qe="(?:['’](?:d|ll|m|re|s|t|ve))?",He="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ze="(?:"+Te+"|"+Be+")"+"?",Ve="[\\ufe0e\\ufe0f]?",Ke=Ve+Ze+("(?:\\u200d(?:"+[Me,De,Ne].join("|")+")"+Ve+Ze+")*"),Ge="(?:"+[$e,De,Ne].join("|")+")"+Ke,Ye="(?:"+[Me+Te+"?",Te,De,Ne,Re].join("|")+")",Je=RegExp(ze,"g"),Xe=RegExp(Te,"g"),Qe=RegExp(Be+"(?="+Be+")|"+Ye+Ke,"g"),et=RegExp([We+"?"+Le+"+"+qe+"(?="+[Ie,We,"$"].join("|")+")",Fe+"+"+He+"(?="+[Ie,We+Ue,"$"].join("|")+")",We+"?"+Ue+"+"+qe,We+"+"+He,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",je,Ge].join("|"),"g"),tt=RegExp("[\\u200d\\ud800-\\udfff"+xe+Ae+"]"),nt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,rt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],it=-1,ot={};ot[L]=ot[O]=ot[B]=ot[M]=ot[D]=ot[N]=ot[W]=ot[U]=ot[F]=!0,ot[v]=ot[m]=ot[j]=ot[y]=ot[$]=ot[_]=ot[b]=ot[w]=ot[E]=ot[S]=ot[P]=ot[C]=ot[z]=ot[R]=ot[T]=!1;var st={};st[v]=st[m]=st[j]=st[$]=st[y]=st[_]=st[L]=st[O]=st[B]=st[M]=st[D]=st[E]=st[S]=st[P]=st[C]=st[z]=st[R]=st[I]=st[N]=st[W]=st[U]=st[F]=!0,st[b]=st[w]=st[T]=!1;var at={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ut=parseFloat,lt=parseInt,ct="object"==typeof k&&k&&k.Object===Object&&k,ft="object"==typeof self&&self&&self.Object===Object&&self,ht=ct||ft||Function("return this")(),pt="object"==typeof e&&e&&!e.nodeType&&e,dt=pt&&"object"==typeof t&&t&&!t.nodeType&&t,gt=dt&&dt.exports===pt,vt=gt&&ct.process,mt=function(){try{var e=dt&&dt.require&&dt.require("util").types;return e||vt&&vt.binding&&vt.binding("util")}catch(e){}}(),yt=mt&&mt.isArrayBuffer,_t=mt&&mt.isDate,bt=mt&&mt.isMap,wt=mt&&mt.isRegExp,kt=mt&&mt.isSet,xt=mt&&mt.isTypedArray;function Et(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function St(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(r,s,n(s),e)}return r}function Pt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function At(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Ct(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function zt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function Rt(e,t){return!!(null==e?0:e.length)&&Nt(e,t,0)>-1}function It(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Tt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function jt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function $t(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Lt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Ot(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Bt=qt("length");function Mt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Dt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Nt(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Dt(e,Ut,n)}function Wt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Ut(e){return e!=e}function Ft(e,t){var n=null==e?0:e.length;return n?Vt(e,t)/n:p}function qt(e){return function(t){return null==t?n:t[e]}}function Ht(e){return function(t){return null==e?n:e[t]}}function Zt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Vt(e,t){for(var r,i=-1,o=e.length;++i<o;){var s=t(e[i]);s!==n&&(r=r===n?s:r+s)}return r}function Kt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Gt(e){return function(t){return e(t)}}function Yt(e,t){return Tt(t,(function(t){return e[t]}))}function Jt(e,t){return e.has(t)}function Xt(e,t){for(var n=-1,r=e.length;++n<r&&Nt(t,e[n],0)>-1;);return n}function Qt(e,t){for(var n=e.length;n--&&Nt(t,e[n],0)>-1;);return n}function en(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var tn=Ht({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),nn=Ht({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function rn(e){return"\\"+at[e]}function on(e){return tt.test(e)}function sn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function an(e,t){return function(n){return e(t(n))}}function un(e,t){for(var n=-1,r=e.length,i=0,s=[];++n<r;){var a=e[n];a!==t&&a!==o||(e[n]=o,s[i++]=n)}return s}function ln(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function fn(e){return on(e)?function(e){var t=Qe.lastIndex=0;for(;Qe.test(e);)++t;return t}(e):Bt(e)}function hn(e){return on(e)?function(e){return e.match(Qe)||[]}(e):function(e){return e.split("")}(e)}var pn=Ht({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var dn=function e(t){var k,xe=(t=null==t?ht:dn.defaults(ht.Object(),t,dn.pick(ht,rt))).Array,Ee=t.Date,Se=t.Error,Pe=t.Function,Ae=t.Math,Ce=t.Object,ze=t.RegExp,Re=t.String,Ie=t.TypeError,Te=xe.prototype,je=Pe.prototype,$e=Ce.prototype,Le=t["__core-js_shared__"],Oe=je.toString,Be=$e.hasOwnProperty,Me=0,De=(k=/[^.]+$/.exec(Le&&Le.keys&&Le.keys.IE_PROTO||""))?"Symbol(src)_1."+k:"",Ne=$e.toString,We=Oe.call(Ce),Ue=ht._,Fe=ze("^"+Oe.call(Be).replace(re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qe=gt?t.Buffer:n,He=t.Symbol,Ze=t.Uint8Array,Ve=qe?qe.allocUnsafe:n,Ke=an(Ce.getPrototypeOf,Ce),Ge=Ce.create,Ye=$e.propertyIsEnumerable,Qe=Te.splice,tt=He?He.isConcatSpreadable:n,at=He?He.iterator:n,ct=He?He.toStringTag:n,ft=function(){try{var e=ho(Ce,"defineProperty");return e({},"",{}),e}catch(e){}}(),pt=t.clearTimeout!==ht.clearTimeout&&t.clearTimeout,dt=Ee&&Ee.now!==ht.Date.now&&Ee.now,vt=t.setTimeout!==ht.setTimeout&&t.setTimeout,mt=Ae.ceil,Bt=Ae.floor,Ht=Ce.getOwnPropertySymbols,gn=qe?qe.isBuffer:n,vn=t.isFinite,mn=Te.join,yn=an(Ce.keys,Ce),_n=Ae.max,bn=Ae.min,wn=Ee.now,kn=t.parseInt,xn=Ae.random,En=Te.reverse,Sn=ho(t,"DataView"),Pn=ho(t,"Map"),An=ho(t,"Promise"),Cn=ho(t,"Set"),zn=ho(t,"WeakMap"),Rn=ho(Ce,"create"),In=zn&&new zn,Tn={},jn=No(Sn),$n=No(Pn),Ln=No(An),On=No(Cn),Bn=No(zn),Mn=He?He.prototype:n,Dn=Mn?Mn.valueOf:n,Nn=Mn?Mn.toString:n;function Wn(e){if(ra(e)&&!Zs(e)&&!(e instanceof Hn)){if(e instanceof qn)return e;if(Be.call(e,"__wrapped__"))return Wo(e)}return new qn(e)}var Un=function(){function e(){}return function(t){if(!na(t))return{};if(Ge)return Ge(t);e.prototype=t;var r=new e;return e.prototype=n,r}}();function Fn(){}function qn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=n}function Hn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function Zn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Vn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Kn;++t<n;)this.add(e[t])}function Yn(e){var t=this.__data__=new Vn(e);this.size=t.size}function Jn(e,t){var n=Zs(e),r=!n&&Hs(e),i=!n&&!r&&Ys(e),o=!n&&!r&&!i&&fa(e),s=n||r||i||o,a=s?Kt(e.length,Re):[],u=a.length;for(var l in e)!t&&!Be.call(e,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||bo(l,u))||a.push(l);return a}function Xn(e){var t=e.length;return t?e[Gr(0,t-1)]:n}function Qn(e,t){return Bo(Ri(e),ur(t,0,e.length))}function er(e){return Bo(Ri(e))}function tr(e,t,r){(r!==n&&!Us(e[t],r)||r===n&&!(t in e))&&sr(e,t,r)}function nr(e,t,r){var i=e[t];Be.call(e,t)&&Us(i,r)&&(r!==n||t in e)||sr(e,t,r)}function rr(e,t){for(var n=e.length;n--;)if(Us(e[n][0],t))return n;return-1}function ir(e,t,n,r){return pr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function or(e,t){return e&&Ii(t,ja(t),e)}function sr(e,t,n){"__proto__"==t&&ft?ft(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ar(e,t){for(var r=-1,i=t.length,o=xe(i),s=null==e;++r<i;)o[r]=s?n:Ca(e,t[r]);return o}function ur(e,t,r){return e==e&&(r!==n&&(e=e<=r?e:r),t!==n&&(e=e>=t?e:t)),e}function lr(e,t,r,i,o,s){var a,u=1&t,l=2&t,c=4&t;if(r&&(a=o?r(e,i,o,s):r(e)),a!==n)return a;if(!na(e))return e;var f=Zs(e);if(f){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Be.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!u)return Ri(e,a)}else{var h=vo(e),p=h==w||h==x;if(Ys(e))return Ei(e,u);if(h==P||h==v||p&&!o){if(a=l||p?{}:yo(e),!u)return l?function(e,t){return Ii(e,go(e),t)}(e,function(e,t){return e&&Ii(t,$a(t),e)}(a,e)):function(e,t){return Ii(e,po(e),t)}(e,or(a,e))}else{if(!st[h])return o?e:{};a=function(e,t,n){var r=e.constructor;switch(t){case j:return Si(e);case y:case _:return new r(+e);case $:return function(e,t){var n=t?Si(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case L:case O:case B:case M:case D:case N:case W:case U:case F:return Pi(e,n);case E:return new r;case S:case R:return new r(e);case C:return function(e){var t=new e.constructor(e.source,de.exec(e));return t.lastIndex=e.lastIndex,t}(e);case z:return new r;case I:return i=e,Dn?Ce(Dn.call(i)):{}}var i}(e,h,u)}}s||(s=new Yn);var d=s.get(e);if(d)return d;s.set(e,a),ua(e)?e.forEach((function(n){a.add(lr(n,t,r,n,e,s))})):ia(e)&&e.forEach((function(n,i){a.set(i,lr(n,t,r,i,e,s))}));var g=f?n:(c?l?oo:io:l?$a:ja)(e);return Pt(g||e,(function(n,i){g&&(n=e[i=n]),nr(a,i,lr(n,t,r,i,e,s))})),a}function cr(e,t,r){var i=r.length;if(null==e)return!i;for(e=Ce(e);i--;){var o=r[i],s=t[o],a=e[o];if(a===n&&!(o in e)||!s(a))return!1}return!0}function fr(e,t,i){if("function"!=typeof e)throw new Ie(r);return jo((function(){e.apply(n,i)}),t)}function hr(e,t,n,r){var i=-1,o=Rt,s=!0,a=e.length,u=[],l=t.length;if(!a)return u;n&&(t=Tt(t,Gt(n))),r?(o=It,s=!1):t.length>=200&&(o=Jt,s=!1,t=new Gn(t));e:for(;++i<a;){var c=e[i],f=null==n?c:n(c);if(c=r||0!==c?c:0,s&&f==f){for(var h=l;h--;)if(t[h]===f)continue e;u.push(c)}else o(t,f,r)||u.push(c)}return u}Wn.templateSettings={escape:J,evaluate:X,interpolate:Q,variable:"",imports:{_:Wn}},Wn.prototype=Fn.prototype,Wn.prototype.constructor=Wn,qn.prototype=Un(Fn.prototype),qn.prototype.constructor=qn,Hn.prototype=Un(Fn.prototype),Hn.prototype.constructor=Hn,Zn.prototype.clear=function(){this.__data__=Rn?Rn(null):{},this.size=0},Zn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Zn.prototype.get=function(e){var t=this.__data__;if(Rn){var r=t[e];return r===i?n:r}return Be.call(t,e)?t[e]:n},Zn.prototype.has=function(e){var t=this.__data__;return Rn?t[e]!==n:Be.call(t,e)},Zn.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Rn&&t===n?i:t,this},Vn.prototype.clear=function(){this.__data__=[],this.size=0},Vn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Qe.call(t,n,1),--this.size,!0)},Vn.prototype.get=function(e){var t=this.__data__,r=rr(t,e);return r<0?n:t[r][1]},Vn.prototype.has=function(e){return rr(this.__data__,e)>-1},Vn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Kn.prototype.clear=function(){this.size=0,this.__data__={hash:new Zn,map:new(Pn||Vn),string:new Zn}},Kn.prototype.delete=function(e){var t=co(this,e).delete(e);return this.size-=t?1:0,t},Kn.prototype.get=function(e){return co(this,e).get(e)},Kn.prototype.has=function(e){return co(this,e).has(e)},Kn.prototype.set=function(e,t){var n=co(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Gn.prototype.add=Gn.prototype.push=function(e){return this.__data__.set(e,i),this},Gn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.clear=function(){this.__data__=new Vn,this.size=0},Yn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Yn.prototype.get=function(e){return this.__data__.get(e)},Yn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Vn){var r=n.__data__;if(!Pn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Kn(r)}return n.set(e,t),this.size=n.size,this};var pr=$i(wr),dr=$i(kr,!0);function gr(e,t){var n=!0;return pr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function vr(e,t,r){for(var i=-1,o=e.length;++i<o;){var s=e[i],a=t(s);if(null!=a&&(u===n?a==a&&!ca(a):r(a,u)))var u=a,l=s}return l}function mr(e,t){var n=[];return pr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function yr(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=_o),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?yr(a,t-1,n,r,i):jt(i,a):r||(i[i.length]=a)}return i}var _r=Li(),br=Li(!0);function wr(e,t){return e&&_r(e,t,ja)}function kr(e,t){return e&&br(e,t,ja)}function xr(e,t){return zt(t,(function(t){return Qs(e[t])}))}function Er(e,t){for(var r=0,i=(t=bi(t,e)).length;null!=e&&r<i;)e=e[Do(t[r++])];return r&&r==i?e:n}function Sr(e,t,n){var r=t(e);return Zs(e)?r:jt(r,n(e))}function Pr(e){return null==e?e===n?"[object Undefined]":"[object Null]":ct&&ct in Ce(e)?function(e){var t=Be.call(e,ct),r=e[ct];try{e[ct]=n;var i=!0}catch(e){}var o=Ne.call(e);i&&(t?e[ct]=r:delete e[ct]);return o}(e):function(e){return Ne.call(e)}(e)}function Ar(e,t){return e>t}function Cr(e,t){return null!=e&&Be.call(e,t)}function zr(e,t){return null!=e&&t in Ce(e)}function Rr(e,t,r){for(var i=r?It:Rt,o=e[0].length,s=e.length,a=s,u=xe(s),l=1/0,c=[];a--;){var f=e[a];a&&t&&(f=Tt(f,Gt(t))),l=bn(f.length,l),u[a]=!r&&(t||o>=120&&f.length>=120)?new Gn(a&&f):n}f=e[0];var h=-1,p=u[0];e:for(;++h<o&&c.length<l;){var d=f[h],g=t?t(d):d;if(d=r||0!==d?d:0,!(p?Jt(p,g):i(c,g,r))){for(a=s;--a;){var v=u[a];if(!(v?Jt(v,g):i(e[a],g,r)))continue e}p&&p.push(g),c.push(d)}}return c}function Ir(e,t,r){var i=null==(e=zo(e,t=bi(t,e)))?e:e[Do(Xo(t))];return null==i?n:Et(i,e,r)}function Tr(e){return ra(e)&&Pr(e)==v}function jr(e,t,r,i,o){return e===t||(null==e||null==t||!ra(e)&&!ra(t)?e!=e&&t!=t:function(e,t,r,i,o,s){var a=Zs(e),u=Zs(t),l=a?m:vo(e),c=u?m:vo(t),f=(l=l==v?P:l)==P,h=(c=c==v?P:c)==P,p=l==c;if(p&&Ys(e)){if(!Ys(t))return!1;a=!0,f=!1}if(p&&!f)return s||(s=new Yn),a||fa(e)?no(e,t,r,i,o,s):function(e,t,n,r,i,o,s){switch(n){case $:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case j:return!(e.byteLength!=t.byteLength||!o(new Ze(e),new Ze(t)));case y:case _:case S:return Us(+e,+t);case b:return e.name==t.name&&e.message==t.message;case C:case R:return e==t+"";case E:var a=sn;case z:var u=1&r;if(a||(a=ln),e.size!=t.size&&!u)return!1;var l=s.get(e);if(l)return l==t;r|=2,s.set(e,t);var c=no(a(e),a(t),r,i,o,s);return s.delete(e),c;case I:if(Dn)return Dn.call(e)==Dn.call(t)}return!1}(e,t,l,r,i,o,s);if(!(1&r)){var d=f&&Be.call(e,"__wrapped__"),g=h&&Be.call(t,"__wrapped__");if(d||g){var w=d?e.value():e,k=g?t.value():t;return s||(s=new Yn),o(w,k,r,i,s)}}if(!p)return!1;return s||(s=new Yn),function(e,t,r,i,o,s){var a=1&r,u=io(e),l=u.length,c=io(t).length;if(l!=c&&!a)return!1;var f=l;for(;f--;){var h=u[f];if(!(a?h in t:Be.call(t,h)))return!1}var p=s.get(e),d=s.get(t);if(p&&d)return p==t&&d==e;var g=!0;s.set(e,t),s.set(t,e);var v=a;for(;++f<l;){var m=e[h=u[f]],y=t[h];if(i)var _=a?i(y,m,h,t,e,s):i(m,y,h,e,t,s);if(!(_===n?m===y||o(m,y,r,i,s):_)){g=!1;break}v||(v="constructor"==h)}if(g&&!v){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(g=!1)}return s.delete(e),s.delete(t),g}(e,t,r,i,o,s)}(e,t,r,i,jr,o))}function $r(e,t,r,i){var o=r.length,s=o,a=!i;if(null==e)return!s;for(e=Ce(e);o--;){var u=r[o];if(a&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<s;){var l=(u=r[o])[0],c=e[l],f=u[1];if(a&&u[2]){if(c===n&&!(l in e))return!1}else{var h=new Yn;if(i)var p=i(c,f,l,e,t,h);if(!(p===n?jr(f,c,3,i,h):p))return!1}}return!0}function Lr(e){return!(!na(e)||(t=e,De&&De in t))&&(Qs(e)?Fe:me).test(No(e));var t}function Or(e){return"function"==typeof e?e:null==e?ou:"object"==typeof e?Zs(e)?Ur(e[0],e[1]):Wr(e):du(e)}function Br(e){if(!So(e))return yn(e);var t=[];for(var n in Ce(e))Be.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Mr(e){if(!na(e))return function(e){var t=[];if(null!=e)for(var n in Ce(e))t.push(n);return t}(e);var t=So(e),n=[];for(var r in e)("constructor"!=r||!t&&Be.call(e,r))&&n.push(r);return n}function Dr(e,t){return e<t}function Nr(e,t){var n=-1,r=Ks(e)?xe(e.length):[];return pr(e,(function(e,i,o){r[++n]=t(e,i,o)})),r}function Wr(e){var t=fo(e);return 1==t.length&&t[0][2]?Ao(t[0][0],t[0][1]):function(n){return n===e||$r(n,e,t)}}function Ur(e,t){return ko(e)&&Po(t)?Ao(Do(e),t):function(r){var i=Ca(r,e);return i===n&&i===t?za(r,e):jr(t,i,3)}}function Fr(e,t,r,i,o){e!==t&&_r(t,(function(s,a){if(o||(o=new Yn),na(s))!function(e,t,r,i,o,s,a){var u=Io(e,r),l=Io(t,r),c=a.get(l);if(c)return void tr(e,r,c);var f=s?s(u,l,r+"",e,t,a):n,h=f===n;if(h){var p=Zs(l),d=!p&&Ys(l),g=!p&&!d&&fa(l);f=l,p||d||g?Zs(u)?f=u:Gs(u)?f=Ri(u):d?(h=!1,f=Ei(l,!0)):g?(h=!1,f=Pi(l,!0)):f=[]:sa(l)||Hs(l)?(f=u,Hs(u)?f=_a(u):na(u)&&!Qs(u)||(f=yo(l))):h=!1}h&&(a.set(l,f),o(f,l,i,s,a),a.delete(l));tr(e,r,f)}(e,t,a,r,Fr,i,o);else{var u=i?i(Io(e,a),s,a+"",e,t,o):n;u===n&&(u=s),tr(e,a,u)}}),$a)}function qr(e,t){var r=e.length;if(r)return bo(t+=t<0?r:0,r)?e[t]:n}function Hr(e,t,n){t=t.length?Tt(t,(function(e){return Zs(e)?function(t){return Er(t,1===e.length?e[0]:e)}:e})):[ou];var r=-1;return t=Tt(t,Gt(lo())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Nr(e,(function(e,n,i){return{criteria:Tt(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;for(;++r<s;){var u=Ai(i[r],o[r]);if(u)return r>=a?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Zr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=Er(e,s);n(a,s)&&ei(o,bi(s,e),a)}return o}function Vr(e,t,n,r){var i=r?Wt:Nt,o=-1,s=t.length,a=e;for(e===t&&(t=Ri(t)),n&&(a=Tt(e,Gt(n)));++o<s;)for(var u=0,l=t[o],c=n?n(l):l;(u=i(a,c,u,r))>-1;)a!==e&&Qe.call(a,u,1),Qe.call(e,u,1);return e}function Kr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;bo(i)?Qe.call(e,i,1):hi(e,i)}}return e}function Gr(e,t){return e+Bt(xn()*(t-e+1))}function Yr(e,t){var n="";if(!e||t<1||t>h)return n;do{t%2&&(n+=e),(t=Bt(t/2))&&(e+=e)}while(t);return n}function Jr(e,t){return $o(Co(e,t,ou),e+"")}function Xr(e){return Xn(Ua(e))}function Qr(e,t){var n=Ua(e);return Bo(n,ur(t,0,n.length))}function ei(e,t,r,i){if(!na(e))return e;for(var o=-1,s=(t=bi(t,e)).length,a=s-1,u=e;null!=u&&++o<s;){var l=Do(t[o]),c=r;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(o!=a){var f=u[l];(c=i?i(f,l,u):n)===n&&(c=na(f)?f:bo(t[o+1])?[]:{})}nr(u,l,c),u=u[l]}return e}var ti=In?function(e,t){return In.set(e,t),e}:ou,ni=ft?function(e,t){return ft(e,"toString",{configurable:!0,enumerable:!1,value:nu(t),writable:!0})}:ou;function ri(e){return Bo(Ua(e))}function ii(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=xe(i);++r<i;)o[r]=e[r+t];return o}function oi(e,t){var n;return pr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function si(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=e[o];null!==s&&!ca(s)&&(n?s<=t:s<t)?r=o+1:i=o}return i}return ai(e,t,ou,n)}function ai(e,t,r,i){var o=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=r(t))!=t,u=null===t,l=ca(t),c=t===n;o<s;){var f=Bt((o+s)/2),h=r(e[f]),p=h!==n,d=null===h,g=h==h,v=ca(h);if(a)var m=i||g;else m=c?g&&(i||p):u?g&&p&&(i||!d):l?g&&p&&!d&&(i||!v):!d&&!v&&(i?h<=t:h<t);m?o=f+1:s=f}return bn(s,4294967294)}function ui(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!Us(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function li(e){return"number"==typeof e?e:ca(e)?p:+e}function ci(e){if("string"==typeof e)return e;if(Zs(e))return Tt(e,ci)+"";if(ca(e))return Nn?Nn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function fi(e,t,n){var r=-1,i=Rt,o=e.length,s=!0,a=[],u=a;if(n)s=!1,i=It;else if(o>=200){var l=t?null:Yi(e);if(l)return ln(l);s=!1,i=Jt,u=new Gn}else u=t?[]:a;e:for(;++r<o;){var c=e[r],f=t?t(c):c;if(c=n||0!==c?c:0,s&&f==f){for(var h=u.length;h--;)if(u[h]===f)continue e;t&&u.push(f),a.push(c)}else i(u,f,n)||(u!==a&&u.push(f),a.push(c))}return a}function hi(e,t){return null==(e=zo(e,t=bi(t,e)))||delete e[Do(Xo(t))]}function pi(e,t,n,r){return ei(e,t,n(Er(e,t)),r)}function di(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ii(e,r?0:o,r?o+1:i):ii(e,r?o+1:0,r?i:o)}function gi(e,t){var n=e;return n instanceof Hn&&(n=n.value()),$t(t,(function(e,t){return t.func.apply(t.thisArg,jt([e],t.args))}),n)}function vi(e,t,n){var r=e.length;if(r<2)return r?fi(e[0]):[];for(var i=-1,o=xe(r);++i<r;)for(var s=e[i],a=-1;++a<r;)a!=i&&(o[i]=hr(o[i]||s,e[a],t,n));return fi(yr(o,1),t,n)}function mi(e,t,r){for(var i=-1,o=e.length,s=t.length,a={};++i<o;){var u=i<s?t[i]:n;r(a,e[i],u)}return a}function yi(e){return Gs(e)?e:[]}function _i(e){return"function"==typeof e?e:ou}function bi(e,t){return Zs(e)?e:ko(e,t)?[e]:Mo(ba(e))}var wi=Jr;function ki(e,t,r){var i=e.length;return r=r===n?i:r,!t&&r>=i?e:ii(e,t,r)}var xi=pt||function(e){return ht.clearTimeout(e)};function Ei(e,t){if(t)return e.slice();var n=e.length,r=Ve?Ve(n):new e.constructor(n);return e.copy(r),r}function Si(e){var t=new e.constructor(e.byteLength);return new Ze(t).set(new Ze(e)),t}function Pi(e,t){var n=t?Si(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ai(e,t){if(e!==t){var r=e!==n,i=null===e,o=e==e,s=ca(e),a=t!==n,u=null===t,l=t==t,c=ca(t);if(!u&&!c&&!s&&e>t||s&&a&&l&&!u&&!c||i&&a&&l||!r&&l||!o)return 1;if(!i&&!s&&!c&&e<t||c&&r&&o&&!i&&!s||u&&r&&o||!a&&o||!l)return-1}return 0}function Ci(e,t,n,r){for(var i=-1,o=e.length,s=n.length,a=-1,u=t.length,l=_n(o-s,0),c=xe(u+l),f=!r;++a<u;)c[a]=t[a];for(;++i<s;)(f||i<o)&&(c[n[i]]=e[i]);for(;l--;)c[a++]=e[i++];return c}function zi(e,t,n,r){for(var i=-1,o=e.length,s=-1,a=n.length,u=-1,l=t.length,c=_n(o-a,0),f=xe(c+l),h=!r;++i<c;)f[i]=e[i];for(var p=i;++u<l;)f[p+u]=t[u];for(;++s<a;)(h||i<o)&&(f[p+n[s]]=e[i++]);return f}function Ri(e,t){var n=-1,r=e.length;for(t||(t=xe(r));++n<r;)t[n]=e[n];return t}function Ii(e,t,r,i){var o=!r;r||(r={});for(var s=-1,a=t.length;++s<a;){var u=t[s],l=i?i(r[u],e[u],u,r,e):n;l===n&&(l=e[u]),o?sr(r,u,l):nr(r,u,l)}return r}function Ti(e,t){return function(n,r){var i=Zs(n)?St:ir,o=t?t():{};return i(n,e,lo(r,2),o)}}function ji(e){return Jr((function(t,r){var i=-1,o=r.length,s=o>1?r[o-1]:n,a=o>2?r[2]:n;for(s=e.length>3&&"function"==typeof s?(o--,s):n,a&&wo(r[0],r[1],a)&&(s=o<3?n:s,o=1),t=Ce(t);++i<o;){var u=r[i];u&&e(t,u,i,s)}return t}))}function $i(e,t){return function(n,r){if(null==n)return n;if(!Ks(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Ce(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Li(e){return function(t,n,r){for(var i=-1,o=Ce(t),s=r(t),a=s.length;a--;){var u=s[e?a:++i];if(!1===n(o[u],u,o))break}return t}}function Oi(e){return function(t){var r=on(t=ba(t))?hn(t):n,i=r?r[0]:t.charAt(0),o=r?ki(r,1).join(""):t.slice(1);return i[e]()+o}}function Bi(e){return function(t){return $t(Qa(Ha(t).replace(Je,"")),e,"")}}function Mi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Un(e.prototype),r=e.apply(n,t);return na(r)?r:n}}function Di(e){return function(t,r,i){var o=Ce(t);if(!Ks(t)){var s=lo(r,3);t=ja(t),r=function(e){return s(o[e],e,o)}}var a=e(t,r,i);return a>-1?o[s?t[a]:a]:n}}function Ni(e){return ro((function(t){var i=t.length,o=i,s=qn.prototype.thru;for(e&&t.reverse();o--;){var a=t[o];if("function"!=typeof a)throw new Ie(r);if(s&&!u&&"wrapper"==ao(a))var u=new qn([],!0)}for(o=u?o:i;++o<i;){var l=ao(a=t[o]),c="wrapper"==l?so(a):n;u=c&&xo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[ao(c[0])].apply(u,c[3]):1==a.length&&xo(a)?u[l]():u.thru(a)}return function(){var e=arguments,n=e[0];if(u&&1==e.length&&Zs(n))return u.plant(n).value();for(var r=0,o=i?t[r].apply(this,e):n;++r<i;)o=t[r].call(this,o);return o}}))}function Wi(e,t,r,i,o,s,a,u,c,f){var h=t&l,p=1&t,d=2&t,g=24&t,v=512&t,m=d?n:Mi(e);return function n(){for(var l=arguments.length,y=xe(l),_=l;_--;)y[_]=arguments[_];if(g)var b=uo(n),w=en(y,b);if(i&&(y=Ci(y,i,o,g)),s&&(y=zi(y,s,a,g)),l-=w,g&&l<f){var k=un(y,b);return Ki(e,t,Wi,n.placeholder,r,y,k,u,c,f-l)}var x=p?r:this,E=d?x[e]:e;return l=y.length,u?y=Ro(y,u):v&&l>1&&y.reverse(),h&&c<l&&(y.length=c),this&&this!==ht&&this instanceof n&&(E=m||Mi(E)),E.apply(x,y)}}function Ui(e,t){return function(n,r){return function(e,t,n,r){return wr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Fi(e,t){return function(r,i){var o;if(r===n&&i===n)return t;if(r!==n&&(o=r),i!==n){if(o===n)return i;"string"==typeof r||"string"==typeof i?(r=ci(r),i=ci(i)):(r=li(r),i=li(i)),o=e(r,i)}return o}}function qi(e){return ro((function(t){return t=Tt(t,Gt(lo())),Jr((function(n){var r=this;return e(t,(function(e){return Et(e,r,n)}))}))}))}function Hi(e,t){var r=(t=t===n?" ":ci(t)).length;if(r<2)return r?Yr(t,e):t;var i=Yr(t,mt(e/fn(t)));return on(t)?ki(hn(i),0,e).join(""):i.slice(0,e)}function Zi(e){return function(t,r,i){return i&&"number"!=typeof i&&wo(t,r,i)&&(r=i=n),t=ga(t),r===n?(r=t,t=0):r=ga(r),function(e,t,n,r){for(var i=-1,o=_n(mt((t-e)/(n||1)),0),s=xe(o);o--;)s[r?o:++i]=e,e+=n;return s}(t,r,i=i===n?t<r?1:-1:ga(i),e)}}function Vi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ya(t),n=ya(n)),e(t,n)}}function Ki(e,t,r,i,o,s,l,c,f,h){var p=8&t;t|=p?a:u,4&(t&=~(p?u:a))||(t&=-4);var d=[e,t,o,p?s:n,p?l:n,p?n:s,p?n:l,c,f,h],g=r.apply(n,d);return xo(e)&&To(g,d),g.placeholder=i,Lo(g,e,t)}function Gi(e){var t=Ae[e];return function(e,n){if(e=ya(e),(n=null==n?0:bn(va(n),292))&&vn(e)){var r=(ba(e)+"e").split("e");return+((r=(ba(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Yi=Cn&&1/ln(new Cn([,-0]))[1]==f?function(e){return new Cn(e)}:cu;function Ji(e){return function(t){var n=vo(t);return n==E?sn(t):n==z?cn(t):function(e,t){return Tt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Xi(e,t,i,f,h,p,d,g){var v=2&t;if(!v&&"function"!=typeof e)throw new Ie(r);var m=f?f.length:0;if(m||(t&=-97,f=h=n),d=d===n?d:_n(va(d),0),g=g===n?g:va(g),m-=h?h.length:0,t&u){var y=f,_=h;f=h=n}var b=v?n:so(e),w=[e,t,i,f,h,y,_,p,d,g];if(b&&function(e,t){var n=e[1],r=t[1],i=n|r,s=i<131,a=r==l&&8==n||r==l&&n==c&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!s&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var u=t[3];if(u){var f=e[3];e[3]=f?Ci(f,u,t[4]):u,e[4]=f?un(e[3],o):t[4]}(u=t[5])&&(f=e[5],e[5]=f?zi(f,u,t[6]):u,e[6]=f?un(e[5],o):t[6]);(u=t[7])&&(e[7]=u);r&l&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(w,b),e=w[0],t=w[1],i=w[2],f=w[3],h=w[4],!(g=w[9]=w[9]===n?v?0:e.length:_n(w[9]-m,0))&&24&t&&(t&=-25),t&&1!=t)k=8==t||t==s?function(e,t,r){var i=Mi(e);return function o(){for(var s=arguments.length,a=xe(s),u=s,l=uo(o);u--;)a[u]=arguments[u];var c=s<3&&a[0]!==l&&a[s-1]!==l?[]:un(a,l);return(s-=c.length)<r?Ki(e,t,Wi,o.placeholder,n,a,c,n,n,r-s):Et(this&&this!==ht&&this instanceof o?i:e,this,a)}}(e,t,g):t!=a&&33!=t||h.length?Wi.apply(n,w):function(e,t,n,r){var i=1&t,o=Mi(e);return function t(){for(var s=-1,a=arguments.length,u=-1,l=r.length,c=xe(l+a),f=this&&this!==ht&&this instanceof t?o:e;++u<l;)c[u]=r[u];for(;a--;)c[u++]=arguments[++s];return Et(f,i?n:this,c)}}(e,t,i,f);else var k=function(e,t,n){var r=1&t,i=Mi(e);return function t(){return(this&&this!==ht&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,i);return Lo((b?ti:To)(k,w),e,t)}function Qi(e,t,r,i){return e===n||Us(e,$e[r])&&!Be.call(i,r)?t:e}function eo(e,t,r,i,o,s){return na(e)&&na(t)&&(s.set(t,e),Fr(e,t,n,eo,s),s.delete(t)),e}function to(e){return sa(e)?n:e}function no(e,t,r,i,o,s){var a=1&r,u=e.length,l=t.length;if(u!=l&&!(a&&l>u))return!1;var c=s.get(e),f=s.get(t);if(c&&f)return c==t&&f==e;var h=-1,p=!0,d=2&r?new Gn:n;for(s.set(e,t),s.set(t,e);++h<u;){var g=e[h],v=t[h];if(i)var m=a?i(v,g,h,t,e,s):i(g,v,h,e,t,s);if(m!==n){if(m)continue;p=!1;break}if(d){if(!Ot(t,(function(e,t){if(!Jt(d,t)&&(g===e||o(g,e,r,i,s)))return d.push(t)}))){p=!1;break}}else if(g!==v&&!o(g,v,r,i,s)){p=!1;break}}return s.delete(e),s.delete(t),p}function ro(e){return $o(Co(e,n,Vo),e+"")}function io(e){return Sr(e,ja,po)}function oo(e){return Sr(e,$a,go)}var so=In?function(e){return In.get(e)}:cu;function ao(e){for(var t=e.name+"",n=Tn[t],r=Be.call(Tn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function uo(e){return(Be.call(Wn,"placeholder")?Wn:e).placeholder}function lo(){var e=Wn.iteratee||su;return e=e===su?Or:e,arguments.length?e(arguments[0],arguments[1]):e}function co(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function fo(e){for(var t=ja(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Po(i)]}return t}function ho(e,t){var r=function(e,t){return null==e?n:e[t]}(e,t);return Lr(r)?r:n}var po=Ht?function(e){return null==e?[]:(e=Ce(e),zt(Ht(e),(function(t){return Ye.call(e,t)})))}:mu,go=Ht?function(e){for(var t=[];e;)jt(t,po(e)),e=Ke(e);return t}:mu,vo=Pr;function mo(e,t,n){for(var r=-1,i=(t=bi(t,e)).length,o=!1;++r<i;){var s=Do(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&ta(i)&&bo(s,i)&&(Zs(e)||Hs(e))}function yo(e){return"function"!=typeof e.constructor||So(e)?{}:Un(Ke(e))}function _o(e){return Zs(e)||Hs(e)||!!(tt&&e&&e[tt])}function bo(e,t){var n=typeof e;return!!(t=null==t?h:t)&&("number"==n||"symbol"!=n&&_e.test(e))&&e>-1&&e%1==0&&e<t}function wo(e,t,n){if(!na(n))return!1;var r=typeof t;return!!("number"==r?Ks(n)&&bo(t,n.length):"string"==r&&t in n)&&Us(n[t],e)}function ko(e,t){if(Zs(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ca(e))||(te.test(e)||!ee.test(e)||null!=t&&e in Ce(t))}function xo(e){var t=ao(e),n=Wn[t];if("function"!=typeof n||!(t in Hn.prototype))return!1;if(e===n)return!0;var r=so(n);return!!r&&e===r[0]}(Sn&&vo(new Sn(new ArrayBuffer(1)))!=$||Pn&&vo(new Pn)!=E||An&&vo(An.resolve())!=A||Cn&&vo(new Cn)!=z||zn&&vo(new zn)!=T)&&(vo=function(e){var t=Pr(e),r=t==P?e.constructor:n,i=r?No(r):"";if(i)switch(i){case jn:return $;case $n:return E;case Ln:return A;case On:return z;case Bn:return T}return t});var Eo=Le?Qs:yu;function So(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||$e)}function Po(e){return e==e&&!na(e)}function Ao(e,t){return function(r){return null!=r&&(r[e]===t&&(t!==n||e in Ce(r)))}}function Co(e,t,r){return t=_n(t===n?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=_n(n.length-t,0),s=xe(o);++i<o;)s[i]=n[t+i];i=-1;for(var a=xe(t+1);++i<t;)a[i]=n[i];return a[t]=r(s),Et(e,this,a)}}function zo(e,t){return t.length<2?e:Er(e,ii(t,0,-1))}function Ro(e,t){for(var r=e.length,i=bn(t.length,r),o=Ri(e);i--;){var s=t[i];e[i]=bo(s,r)?o[s]:n}return e}function Io(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var To=Oo(ti),jo=vt||function(e,t){return ht.setTimeout(e,t)},$o=Oo(ni);function Lo(e,t,n){var r=t+"";return $o(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ue,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Pt(g,(function(n){var r="_."+n[0];t&n[1]&&!Rt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(le);return t?t[1].split(ce):[]}(r),n)))}function Oo(e){var t=0,r=0;return function(){var i=wn(),o=16-(i-r);if(r=i,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(n,arguments)}}function Bo(e,t){var r=-1,i=e.length,o=i-1;for(t=t===n?i:t;++r<t;){var s=Gr(r,o),a=e[s];e[s]=e[r],e[r]=a}return e.length=t,e}var Mo=function(e){var t=Os(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ne,(function(e,n,r,i){t.push(r?i.replace(he,"$1"):n||e)})),t}));function Do(e){if("string"==typeof e||ca(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function No(e){if(null!=e){try{return Oe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Wo(e){if(e instanceof Hn)return e.clone();var t=new qn(e.__wrapped__,e.__chain__);return t.__actions__=Ri(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Uo=Jr((function(e,t){return Gs(e)?hr(e,yr(t,1,Gs,!0)):[]})),Fo=Jr((function(e,t){var r=Xo(t);return Gs(r)&&(r=n),Gs(e)?hr(e,yr(t,1,Gs,!0),lo(r,2)):[]})),qo=Jr((function(e,t){var r=Xo(t);return Gs(r)&&(r=n),Gs(e)?hr(e,yr(t,1,Gs,!0),n,r):[]}));function Ho(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:va(n);return i<0&&(i=_n(r+i,0)),Dt(e,lo(t,3),i)}function Zo(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var o=i-1;return r!==n&&(o=va(r),o=r<0?_n(i+o,0):bn(o,i-1)),Dt(e,lo(t,3),o,!0)}function Vo(e){return(null==e?0:e.length)?yr(e,1):[]}function Ko(e){return e&&e.length?e[0]:n}var Go=Jr((function(e){var t=Tt(e,yi);return t.length&&t[0]===e[0]?Rr(t):[]})),Yo=Jr((function(e){var t=Xo(e),r=Tt(e,yi);return t===Xo(r)?t=n:r.pop(),r.length&&r[0]===e[0]?Rr(r,lo(t,2)):[]})),Jo=Jr((function(e){var t=Xo(e),r=Tt(e,yi);return(t="function"==typeof t?t:n)&&r.pop(),r.length&&r[0]===e[0]?Rr(r,n,t):[]}));function Xo(e){var t=null==e?0:e.length;return t?e[t-1]:n}var Qo=Jr(es);function es(e,t){return e&&e.length&&t&&t.length?Vr(e,t):e}var ts=ro((function(e,t){var n=null==e?0:e.length,r=ar(e,t);return Kr(e,Tt(t,(function(e){return bo(e,n)?+e:e})).sort(Ai)),r}));function ns(e){return null==e?e:En.call(e)}var rs=Jr((function(e){return fi(yr(e,1,Gs,!0))})),is=Jr((function(e){var t=Xo(e);return Gs(t)&&(t=n),fi(yr(e,1,Gs,!0),lo(t,2))})),os=Jr((function(e){var t=Xo(e);return t="function"==typeof t?t:n,fi(yr(e,1,Gs,!0),n,t)}));function ss(e){if(!e||!e.length)return[];var t=0;return e=zt(e,(function(e){if(Gs(e))return t=_n(e.length,t),!0})),Kt(t,(function(t){return Tt(e,qt(t))}))}function as(e,t){if(!e||!e.length)return[];var r=ss(e);return null==t?r:Tt(r,(function(e){return Et(t,n,e)}))}var us=Jr((function(e,t){return Gs(e)?hr(e,t):[]})),ls=Jr((function(e){return vi(zt(e,Gs))})),cs=Jr((function(e){var t=Xo(e);return Gs(t)&&(t=n),vi(zt(e,Gs),lo(t,2))})),fs=Jr((function(e){var t=Xo(e);return t="function"==typeof t?t:n,vi(zt(e,Gs),n,t)})),hs=Jr(ss);var ps=Jr((function(e){var t=e.length,r=t>1?e[t-1]:n;return r="function"==typeof r?(e.pop(),r):n,as(e,r)}));function ds(e){var t=Wn(e);return t.__chain__=!0,t}function gs(e,t){return t(e)}var vs=ro((function(e){var t=e.length,r=t?e[0]:0,i=this.__wrapped__,o=function(t){return ar(t,e)};return!(t>1||this.__actions__.length)&&i instanceof Hn&&bo(r)?((i=i.slice(r,+r+(t?1:0))).__actions__.push({func:gs,args:[o],thisArg:n}),new qn(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(n),e}))):this.thru(o)}));var ms=Ti((function(e,t,n){Be.call(e,n)?++e[n]:sr(e,n,1)}));var ys=Di(Ho),_s=Di(Zo);function bs(e,t){return(Zs(e)?Pt:pr)(e,lo(t,3))}function ws(e,t){return(Zs(e)?At:dr)(e,lo(t,3))}var ks=Ti((function(e,t,n){Be.call(e,n)?e[n].push(t):sr(e,n,[t])}));var xs=Jr((function(e,t,n){var r=-1,i="function"==typeof t,o=Ks(e)?xe(e.length):[];return pr(e,(function(e){o[++r]=i?Et(t,e,n):Ir(e,t,n)})),o})),Es=Ti((function(e,t,n){sr(e,n,t)}));function Ss(e,t){return(Zs(e)?Tt:Nr)(e,lo(t,3))}var Ps=Ti((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var As=Jr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&wo(e,t[0],t[1])?t=[]:n>2&&wo(t[0],t[1],t[2])&&(t=[t[0]]),Hr(e,yr(t,1),[])})),Cs=dt||function(){return ht.Date.now()};function zs(e,t,r){return t=r?n:t,t=e&&null==t?e.length:t,Xi(e,l,n,n,n,n,t)}function Rs(e,t){var i;if("function"!=typeof t)throw new Ie(r);return e=va(e),function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=n),i}}var Is=Jr((function(e,t,n){var r=1;if(n.length){var i=un(n,uo(Is));r|=a}return Xi(e,r,t,n,i)})),Ts=Jr((function(e,t,n){var r=3;if(n.length){var i=un(n,uo(Ts));r|=a}return Xi(t,r,e,n,i)}));function js(e,t,i){var o,s,a,u,l,c,f=0,h=!1,p=!1,d=!0;if("function"!=typeof e)throw new Ie(r);function g(t){var r=o,i=s;return o=s=n,f=t,u=e.apply(i,r)}function v(e){return f=e,l=jo(y,t),h?g(e):u}function m(e){var r=e-c;return c===n||r>=t||r<0||p&&e-f>=a}function y(){var e=Cs();if(m(e))return _(e);l=jo(y,function(e){var n=t-(e-c);return p?bn(n,a-(e-f)):n}(e))}function _(e){return l=n,d&&o?g(e):(o=s=n,u)}function b(){var e=Cs(),r=m(e);if(o=arguments,s=this,c=e,r){if(l===n)return v(c);if(p)return xi(l),l=jo(y,t),g(c)}return l===n&&(l=jo(y,t)),u}return t=ya(t)||0,na(i)&&(h=!!i.leading,a=(p="maxWait"in i)?_n(ya(i.maxWait)||0,t):a,d="trailing"in i?!!i.trailing:d),b.cancel=function(){l!==n&&xi(l),f=0,o=c=s=l=n},b.flush=function(){return l===n?u:_(Cs())},b}var $s=Jr((function(e,t){return fr(e,1,t)})),Ls=Jr((function(e,t,n){return fr(e,ya(t)||0,n)}));function Os(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ie(r);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Os.Cache||Kn),n}function Bs(e){if("function"!=typeof e)throw new Ie(r);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Os.Cache=Kn;var Ms=wi((function(e,t){var n=(t=1==t.length&&Zs(t[0])?Tt(t[0],Gt(lo())):Tt(yr(t,1),Gt(lo()))).length;return Jr((function(r){for(var i=-1,o=bn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return Et(e,this,r)}))})),Ds=Jr((function(e,t){var r=un(t,uo(Ds));return Xi(e,a,n,t,r)})),Ns=Jr((function(e,t){var r=un(t,uo(Ns));return Xi(e,u,n,t,r)})),Ws=ro((function(e,t){return Xi(e,c,n,n,n,t)}));function Us(e,t){return e===t||e!=e&&t!=t}var Fs=Vi(Ar),qs=Vi((function(e,t){return e>=t})),Hs=Tr(function(){return arguments}())?Tr:function(e){return ra(e)&&Be.call(e,"callee")&&!Ye.call(e,"callee")},Zs=xe.isArray,Vs=yt?Gt(yt):function(e){return ra(e)&&Pr(e)==j};function Ks(e){return null!=e&&ta(e.length)&&!Qs(e)}function Gs(e){return ra(e)&&Ks(e)}var Ys=gn||yu,Js=_t?Gt(_t):function(e){return ra(e)&&Pr(e)==_};function Xs(e){if(!ra(e))return!1;var t=Pr(e);return t==b||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!sa(e)}function Qs(e){if(!na(e))return!1;var t=Pr(e);return t==w||t==x||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ea(e){return"number"==typeof e&&e==va(e)}function ta(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function na(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ra(e){return null!=e&&"object"==typeof e}var ia=bt?Gt(bt):function(e){return ra(e)&&vo(e)==E};function oa(e){return"number"==typeof e||ra(e)&&Pr(e)==S}function sa(e){if(!ra(e)||Pr(e)!=P)return!1;var t=Ke(e);if(null===t)return!0;var n=Be.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Oe.call(n)==We}var aa=wt?Gt(wt):function(e){return ra(e)&&Pr(e)==C};var ua=kt?Gt(kt):function(e){return ra(e)&&vo(e)==z};function la(e){return"string"==typeof e||!Zs(e)&&ra(e)&&Pr(e)==R}function ca(e){return"symbol"==typeof e||ra(e)&&Pr(e)==I}var fa=xt?Gt(xt):function(e){return ra(e)&&ta(e.length)&&!!ot[Pr(e)]};var ha=Vi(Dr),pa=Vi((function(e,t){return e<=t}));function da(e){if(!e)return[];if(Ks(e))return la(e)?hn(e):Ri(e);if(at&&e[at])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[at]());var t=vo(e);return(t==E?sn:t==z?ln:Ua)(e)}function ga(e){return e?(e=ya(e))===f||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function va(e){var t=ga(e),n=t%1;return t==t?n?t-n:t:0}function ma(e){return e?ur(va(e),0,d):0}function ya(e){if("number"==typeof e)return e;if(ca(e))return p;if(na(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=na(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(oe,"");var n=ve.test(e);return n||ye.test(e)?lt(e.slice(2),n?2:8):ge.test(e)?p:+e}function _a(e){return Ii(e,$a(e))}function ba(e){return null==e?"":ci(e)}var wa=ji((function(e,t){if(So(t)||Ks(t))Ii(t,ja(t),e);else for(var n in t)Be.call(t,n)&&nr(e,n,t[n])})),ka=ji((function(e,t){Ii(t,$a(t),e)})),xa=ji((function(e,t,n,r){Ii(t,$a(t),e,r)})),Ea=ji((function(e,t,n,r){Ii(t,ja(t),e,r)})),Sa=ro(ar);var Pa=Jr((function(e,t){e=Ce(e);var r=-1,i=t.length,o=i>2?t[2]:n;for(o&&wo(t[0],t[1],o)&&(i=1);++r<i;)for(var s=t[r],a=$a(s),u=-1,l=a.length;++u<l;){var c=a[u],f=e[c];(f===n||Us(f,$e[c])&&!Be.call(e,c))&&(e[c]=s[c])}return e})),Aa=Jr((function(e){return e.push(n,eo),Et(Oa,n,e)}));function Ca(e,t,r){var i=null==e?n:Er(e,t);return i===n?r:i}function za(e,t){return null!=e&&mo(e,t,zr)}var Ra=Ui((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ne.call(t)),e[t]=n}),nu(ou)),Ia=Ui((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ne.call(t)),Be.call(e,t)?e[t].push(n):e[t]=[n]}),lo),Ta=Jr(Ir);function ja(e){return Ks(e)?Jn(e):Br(e)}function $a(e){return Ks(e)?Jn(e,!0):Mr(e)}var La=ji((function(e,t,n){Fr(e,t,n)})),Oa=ji((function(e,t,n,r){Fr(e,t,n,r)})),Ba=ro((function(e,t){var n={};if(null==e)return n;var r=!1;t=Tt(t,(function(t){return t=bi(t,e),r||(r=t.length>1),t})),Ii(e,oo(e),n),r&&(n=lr(n,7,to));for(var i=t.length;i--;)hi(n,t[i]);return n}));var Ma=ro((function(e,t){return null==e?{}:function(e,t){return Zr(e,t,(function(t,n){return za(e,n)}))}(e,t)}));function Da(e,t){if(null==e)return{};var n=Tt(oo(e),(function(e){return[e]}));return t=lo(t),Zr(e,n,(function(e,n){return t(e,n[0])}))}var Na=Ji(ja),Wa=Ji($a);function Ua(e){return null==e?[]:Yt(e,ja(e))}var Fa=Bi((function(e,t,n){return t=t.toLowerCase(),e+(n?qa(t):t)}));function qa(e){return Xa(ba(e).toLowerCase())}function Ha(e){return(e=ba(e))&&e.replace(be,tn).replace(Xe,"")}var Za=Bi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Va=Bi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ka=Oi("toLowerCase");var Ga=Bi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Ya=Bi((function(e,t,n){return e+(n?" ":"")+Xa(t)}));var Ja=Bi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Xa=Oi("toUpperCase");function Qa(e,t,r){return e=ba(e),(t=r?n:t)===n?function(e){return nt.test(e)}(e)?function(e){return e.match(et)||[]}(e):function(e){return e.match(fe)||[]}(e):e.match(t)||[]}var eu=Jr((function(e,t){try{return Et(e,n,t)}catch(e){return Xs(e)?e:new Se(e)}})),tu=ro((function(e,t){return Pt(t,(function(t){t=Do(t),sr(e,t,Is(e[t],e))})),e}));function nu(e){return function(){return e}}var ru=Ni(),iu=Ni(!0);function ou(e){return e}function su(e){return Or("function"==typeof e?e:lr(e,1))}var au=Jr((function(e,t){return function(n){return Ir(n,e,t)}})),uu=Jr((function(e,t){return function(n){return Ir(e,n,t)}}));function lu(e,t,n){var r=ja(t),i=xr(t,r);null!=n||na(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=xr(t,ja(t)));var o=!(na(n)&&"chain"in n&&!n.chain),s=Qs(e);return Pt(i,(function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=Ri(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,jt([this.value()],arguments))})})),e}function cu(){}var fu=qi(Tt),hu=qi(Ct),pu=qi(Ot);function du(e){return ko(e)?qt(Do(e)):function(e){return function(t){return Er(t,e)}}(e)}var gu=Zi(),vu=Zi(!0);function mu(){return[]}function yu(){return!1}var _u=Fi((function(e,t){return e+t}),0),bu=Gi("ceil"),wu=Fi((function(e,t){return e/t}),1),ku=Gi("floor");var xu=Fi((function(e,t){return e*t}),1),Eu=Gi("round"),Su=Fi((function(e,t){return e-t}),0);return Wn.after=function(e,t){if("function"!=typeof t)throw new Ie(r);return e=va(e),function(){if(--e<1)return t.apply(this,arguments)}},Wn.ary=zs,Wn.assign=wa,Wn.assignIn=ka,Wn.assignInWith=xa,Wn.assignWith=Ea,Wn.at=Sa,Wn.before=Rs,Wn.bind=Is,Wn.bindAll=tu,Wn.bindKey=Ts,Wn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Zs(e)?e:[e]},Wn.chain=ds,Wn.chunk=function(e,t,r){t=(r?wo(e,t,r):t===n)?1:_n(va(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var o=0,s=0,a=xe(mt(i/t));o<i;)a[s++]=ii(e,o,o+=t);return a},Wn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Wn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=xe(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return jt(Zs(n)?Ri(n):[n],yr(t,1))},Wn.cond=function(e){var t=null==e?0:e.length,n=lo();return e=t?Tt(e,(function(e){if("function"!=typeof e[1])throw new Ie(r);return[n(e[0]),e[1]]})):[],Jr((function(n){for(var r=-1;++r<t;){var i=e[r];if(Et(i[0],this,n))return Et(i[1],this,n)}}))},Wn.conforms=function(e){return function(e){var t=ja(e);return function(n){return cr(n,e,t)}}(lr(e,1))},Wn.constant=nu,Wn.countBy=ms,Wn.create=function(e,t){var n=Un(e);return null==t?n:or(n,t)},Wn.curry=function e(t,r,i){var o=Xi(t,8,n,n,n,n,n,r=i?n:r);return o.placeholder=e.placeholder,o},Wn.curryRight=function e(t,r,i){var o=Xi(t,s,n,n,n,n,n,r=i?n:r);return o.placeholder=e.placeholder,o},Wn.debounce=js,Wn.defaults=Pa,Wn.defaultsDeep=Aa,Wn.defer=$s,Wn.delay=Ls,Wn.difference=Uo,Wn.differenceBy=Fo,Wn.differenceWith=qo,Wn.drop=function(e,t,r){var i=null==e?0:e.length;return i?ii(e,(t=r||t===n?1:va(t))<0?0:t,i):[]},Wn.dropRight=function(e,t,r){var i=null==e?0:e.length;return i?ii(e,0,(t=i-(t=r||t===n?1:va(t)))<0?0:t):[]},Wn.dropRightWhile=function(e,t){return e&&e.length?di(e,lo(t,3),!0,!0):[]},Wn.dropWhile=function(e,t){return e&&e.length?di(e,lo(t,3),!0):[]},Wn.fill=function(e,t,r,i){var o=null==e?0:e.length;return o?(r&&"number"!=typeof r&&wo(e,t,r)&&(r=0,i=o),function(e,t,r,i){var o=e.length;for((r=va(r))<0&&(r=-r>o?0:o+r),(i=i===n||i>o?o:va(i))<0&&(i+=o),i=r>i?0:ma(i);r<i;)e[r++]=t;return e}(e,t,r,i)):[]},Wn.filter=function(e,t){return(Zs(e)?zt:mr)(e,lo(t,3))},Wn.flatMap=function(e,t){return yr(Ss(e,t),1)},Wn.flatMapDeep=function(e,t){return yr(Ss(e,t),f)},Wn.flatMapDepth=function(e,t,r){return r=r===n?1:va(r),yr(Ss(e,t),r)},Wn.flatten=Vo,Wn.flattenDeep=function(e){return(null==e?0:e.length)?yr(e,f):[]},Wn.flattenDepth=function(e,t){return(null==e?0:e.length)?yr(e,t=t===n?1:va(t)):[]},Wn.flip=function(e){return Xi(e,512)},Wn.flow=ru,Wn.flowRight=iu,Wn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Wn.functions=function(e){return null==e?[]:xr(e,ja(e))},Wn.functionsIn=function(e){return null==e?[]:xr(e,$a(e))},Wn.groupBy=ks,Wn.initial=function(e){return(null==e?0:e.length)?ii(e,0,-1):[]},Wn.intersection=Go,Wn.intersectionBy=Yo,Wn.intersectionWith=Jo,Wn.invert=Ra,Wn.invertBy=Ia,Wn.invokeMap=xs,Wn.iteratee=su,Wn.keyBy=Es,Wn.keys=ja,Wn.keysIn=$a,Wn.map=Ss,Wn.mapKeys=function(e,t){var n={};return t=lo(t,3),wr(e,(function(e,r,i){sr(n,t(e,r,i),e)})),n},Wn.mapValues=function(e,t){var n={};return t=lo(t,3),wr(e,(function(e,r,i){sr(n,r,t(e,r,i))})),n},Wn.matches=function(e){return Wr(lr(e,1))},Wn.matchesProperty=function(e,t){return Ur(e,lr(t,1))},Wn.memoize=Os,Wn.merge=La,Wn.mergeWith=Oa,Wn.method=au,Wn.methodOf=uu,Wn.mixin=lu,Wn.negate=Bs,Wn.nthArg=function(e){return e=va(e),Jr((function(t){return qr(t,e)}))},Wn.omit=Ba,Wn.omitBy=function(e,t){return Da(e,Bs(lo(t)))},Wn.once=function(e){return Rs(2,e)},Wn.orderBy=function(e,t,r,i){return null==e?[]:(Zs(t)||(t=null==t?[]:[t]),Zs(r=i?n:r)||(r=null==r?[]:[r]),Hr(e,t,r))},Wn.over=fu,Wn.overArgs=Ms,Wn.overEvery=hu,Wn.overSome=pu,Wn.partial=Ds,Wn.partialRight=Ns,Wn.partition=Ps,Wn.pick=Ma,Wn.pickBy=Da,Wn.property=du,Wn.propertyOf=function(e){return function(t){return null==e?n:Er(e,t)}},Wn.pull=Qo,Wn.pullAll=es,Wn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Vr(e,t,lo(n,2)):e},Wn.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?Vr(e,t,n,r):e},Wn.pullAt=ts,Wn.range=gu,Wn.rangeRight=vu,Wn.rearg=Ws,Wn.reject=function(e,t){return(Zs(e)?zt:mr)(e,Bs(lo(t,3)))},Wn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=lo(t,3);++r<o;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return Kr(e,i),n},Wn.rest=function(e,t){if("function"!=typeof e)throw new Ie(r);return Jr(e,t=t===n?t:va(t))},Wn.reverse=ns,Wn.sampleSize=function(e,t,r){return t=(r?wo(e,t,r):t===n)?1:va(t),(Zs(e)?Qn:Qr)(e,t)},Wn.set=function(e,t,n){return null==e?e:ei(e,t,n)},Wn.setWith=function(e,t,r,i){return i="function"==typeof i?i:n,null==e?e:ei(e,t,r,i)},Wn.shuffle=function(e){return(Zs(e)?er:ri)(e)},Wn.slice=function(e,t,r){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&wo(e,t,r)?(t=0,r=i):(t=null==t?0:va(t),r=r===n?i:va(r)),ii(e,t,r)):[]},Wn.sortBy=As,Wn.sortedUniq=function(e){return e&&e.length?ui(e):[]},Wn.sortedUniqBy=function(e,t){return e&&e.length?ui(e,lo(t,2)):[]},Wn.split=function(e,t,r){return r&&"number"!=typeof r&&wo(e,t,r)&&(t=r=n),(r=r===n?d:r>>>0)?(e=ba(e))&&("string"==typeof t||null!=t&&!aa(t))&&!(t=ci(t))&&on(e)?ki(hn(e),0,r):e.split(t,r):[]},Wn.spread=function(e,t){if("function"!=typeof e)throw new Ie(r);return t=null==t?0:_n(va(t),0),Jr((function(n){var r=n[t],i=ki(n,0,t);return r&&jt(i,r),Et(e,this,i)}))},Wn.tail=function(e){var t=null==e?0:e.length;return t?ii(e,1,t):[]},Wn.take=function(e,t,r){return e&&e.length?ii(e,0,(t=r||t===n?1:va(t))<0?0:t):[]},Wn.takeRight=function(e,t,r){var i=null==e?0:e.length;return i?ii(e,(t=i-(t=r||t===n?1:va(t)))<0?0:t,i):[]},Wn.takeRightWhile=function(e,t){return e&&e.length?di(e,lo(t,3),!1,!0):[]},Wn.takeWhile=function(e,t){return e&&e.length?di(e,lo(t,3)):[]},Wn.tap=function(e,t){return t(e),e},Wn.throttle=function(e,t,n){var i=!0,o=!0;if("function"!=typeof e)throw new Ie(r);return na(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),js(e,t,{leading:i,maxWait:t,trailing:o})},Wn.thru=gs,Wn.toArray=da,Wn.toPairs=Na,Wn.toPairsIn=Wa,Wn.toPath=function(e){return Zs(e)?Tt(e,Do):ca(e)?[e]:Ri(Mo(ba(e)))},Wn.toPlainObject=_a,Wn.transform=function(e,t,n){var r=Zs(e),i=r||Ys(e)||fa(e);if(t=lo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:na(e)&&Qs(o)?Un(Ke(e)):{}}return(i?Pt:wr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Wn.unary=function(e){return zs(e,1)},Wn.union=rs,Wn.unionBy=is,Wn.unionWith=os,Wn.uniq=function(e){return e&&e.length?fi(e):[]},Wn.uniqBy=function(e,t){return e&&e.length?fi(e,lo(t,2)):[]},Wn.uniqWith=function(e,t){return t="function"==typeof t?t:n,e&&e.length?fi(e,n,t):[]},Wn.unset=function(e,t){return null==e||hi(e,t)},Wn.unzip=ss,Wn.unzipWith=as,Wn.update=function(e,t,n){return null==e?e:pi(e,t,_i(n))},Wn.updateWith=function(e,t,r,i){return i="function"==typeof i?i:n,null==e?e:pi(e,t,_i(r),i)},Wn.values=Ua,Wn.valuesIn=function(e){return null==e?[]:Yt(e,$a(e))},Wn.without=us,Wn.words=Qa,Wn.wrap=function(e,t){return Ds(_i(t),e)},Wn.xor=ls,Wn.xorBy=cs,Wn.xorWith=fs,Wn.zip=hs,Wn.zipObject=function(e,t){return mi(e||[],t||[],nr)},Wn.zipObjectDeep=function(e,t){return mi(e||[],t||[],ei)},Wn.zipWith=ps,Wn.entries=Na,Wn.entriesIn=Wa,Wn.extend=ka,Wn.extendWith=xa,lu(Wn,Wn),Wn.add=_u,Wn.attempt=eu,Wn.camelCase=Fa,Wn.capitalize=qa,Wn.ceil=bu,Wn.clamp=function(e,t,r){return r===n&&(r=t,t=n),r!==n&&(r=(r=ya(r))==r?r:0),t!==n&&(t=(t=ya(t))==t?t:0),ur(ya(e),t,r)},Wn.clone=function(e){return lr(e,4)},Wn.cloneDeep=function(e){return lr(e,5)},Wn.cloneDeepWith=function(e,t){return lr(e,5,t="function"==typeof t?t:n)},Wn.cloneWith=function(e,t){return lr(e,4,t="function"==typeof t?t:n)},Wn.conformsTo=function(e,t){return null==t||cr(e,t,ja(t))},Wn.deburr=Ha,Wn.defaultTo=function(e,t){return null==e||e!=e?t:e},Wn.divide=wu,Wn.endsWith=function(e,t,r){e=ba(e),t=ci(t);var i=e.length,o=r=r===n?i:ur(va(r),0,i);return(r-=t.length)>=0&&e.slice(r,o)==t},Wn.eq=Us,Wn.escape=function(e){return(e=ba(e))&&Y.test(e)?e.replace(K,nn):e},Wn.escapeRegExp=function(e){return(e=ba(e))&&ie.test(e)?e.replace(re,"\\$&"):e},Wn.every=function(e,t,r){var i=Zs(e)?Ct:gr;return r&&wo(e,t,r)&&(t=n),i(e,lo(t,3))},Wn.find=ys,Wn.findIndex=Ho,Wn.findKey=function(e,t){return Mt(e,lo(t,3),wr)},Wn.findLast=_s,Wn.findLastIndex=Zo,Wn.findLastKey=function(e,t){return Mt(e,lo(t,3),kr)},Wn.floor=ku,Wn.forEach=bs,Wn.forEachRight=ws,Wn.forIn=function(e,t){return null==e?e:_r(e,lo(t,3),$a)},Wn.forInRight=function(e,t){return null==e?e:br(e,lo(t,3),$a)},Wn.forOwn=function(e,t){return e&&wr(e,lo(t,3))},Wn.forOwnRight=function(e,t){return e&&kr(e,lo(t,3))},Wn.get=Ca,Wn.gt=Fs,Wn.gte=qs,Wn.has=function(e,t){return null!=e&&mo(e,t,Cr)},Wn.hasIn=za,Wn.head=Ko,Wn.identity=ou,Wn.includes=function(e,t,n,r){e=Ks(e)?e:Ua(e),n=n&&!r?va(n):0;var i=e.length;return n<0&&(n=_n(i+n,0)),la(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Nt(e,t,n)>-1},Wn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:va(n);return i<0&&(i=_n(r+i,0)),Nt(e,t,i)},Wn.inRange=function(e,t,r){return t=ga(t),r===n?(r=t,t=0):r=ga(r),function(e,t,n){return e>=bn(t,n)&&e<_n(t,n)}(e=ya(e),t,r)},Wn.invoke=Ta,Wn.isArguments=Hs,Wn.isArray=Zs,Wn.isArrayBuffer=Vs,Wn.isArrayLike=Ks,Wn.isArrayLikeObject=Gs,Wn.isBoolean=function(e){return!0===e||!1===e||ra(e)&&Pr(e)==y},Wn.isBuffer=Ys,Wn.isDate=Js,Wn.isElement=function(e){return ra(e)&&1===e.nodeType&&!sa(e)},Wn.isEmpty=function(e){if(null==e)return!0;if(Ks(e)&&(Zs(e)||"string"==typeof e||"function"==typeof e.splice||Ys(e)||fa(e)||Hs(e)))return!e.length;var t=vo(e);if(t==E||t==z)return!e.size;if(So(e))return!Br(e).length;for(var n in e)if(Be.call(e,n))return!1;return!0},Wn.isEqual=function(e,t){return jr(e,t)},Wn.isEqualWith=function(e,t,r){var i=(r="function"==typeof r?r:n)?r(e,t):n;return i===n?jr(e,t,n,r):!!i},Wn.isError=Xs,Wn.isFinite=function(e){return"number"==typeof e&&vn(e)},Wn.isFunction=Qs,Wn.isInteger=ea,Wn.isLength=ta,Wn.isMap=ia,Wn.isMatch=function(e,t){return e===t||$r(e,t,fo(t))},Wn.isMatchWith=function(e,t,r){return r="function"==typeof r?r:n,$r(e,t,fo(t),r)},Wn.isNaN=function(e){return oa(e)&&e!=+e},Wn.isNative=function(e){if(Eo(e))throw new Se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Lr(e)},Wn.isNil=function(e){return null==e},Wn.isNull=function(e){return null===e},Wn.isNumber=oa,Wn.isObject=na,Wn.isObjectLike=ra,Wn.isPlainObject=sa,Wn.isRegExp=aa,Wn.isSafeInteger=function(e){return ea(e)&&e>=-9007199254740991&&e<=h},Wn.isSet=ua,Wn.isString=la,Wn.isSymbol=ca,Wn.isTypedArray=fa,Wn.isUndefined=function(e){return e===n},Wn.isWeakMap=function(e){return ra(e)&&vo(e)==T},Wn.isWeakSet=function(e){return ra(e)&&"[object WeakSet]"==Pr(e)},Wn.join=function(e,t){return null==e?"":mn.call(e,t)},Wn.kebabCase=Za,Wn.last=Xo,Wn.lastIndexOf=function(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var o=i;return r!==n&&(o=(o=va(r))<0?_n(i+o,0):bn(o,i-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):Dt(e,Ut,o,!0)},Wn.lowerCase=Va,Wn.lowerFirst=Ka,Wn.lt=ha,Wn.lte=pa,Wn.max=function(e){return e&&e.length?vr(e,ou,Ar):n},Wn.maxBy=function(e,t){return e&&e.length?vr(e,lo(t,2),Ar):n},Wn.mean=function(e){return Ft(e,ou)},Wn.meanBy=function(e,t){return Ft(e,lo(t,2))},Wn.min=function(e){return e&&e.length?vr(e,ou,Dr):n},Wn.minBy=function(e,t){return e&&e.length?vr(e,lo(t,2),Dr):n},Wn.stubArray=mu,Wn.stubFalse=yu,Wn.stubObject=function(){return{}},Wn.stubString=function(){return""},Wn.stubTrue=function(){return!0},Wn.multiply=xu,Wn.nth=function(e,t){return e&&e.length?qr(e,va(t)):n},Wn.noConflict=function(){return ht._===this&&(ht._=Ue),this},Wn.noop=cu,Wn.now=Cs,Wn.pad=function(e,t,n){e=ba(e);var r=(t=va(t))?fn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Hi(Bt(i),n)+e+Hi(mt(i),n)},Wn.padEnd=function(e,t,n){e=ba(e);var r=(t=va(t))?fn(e):0;return t&&r<t?e+Hi(t-r,n):e},Wn.padStart=function(e,t,n){e=ba(e);var r=(t=va(t))?fn(e):0;return t&&r<t?Hi(t-r,n)+e:e},Wn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),kn(ba(e).replace(se,""),t||0)},Wn.random=function(e,t,r){if(r&&"boolean"!=typeof r&&wo(e,t,r)&&(t=r=n),r===n&&("boolean"==typeof t?(r=t,t=n):"boolean"==typeof e&&(r=e,e=n)),e===n&&t===n?(e=0,t=1):(e=ga(e),t===n?(t=e,e=0):t=ga(t)),e>t){var i=e;e=t,t=i}if(r||e%1||t%1){var o=xn();return bn(e+o*(t-e+ut("1e-"+((o+"").length-1))),t)}return Gr(e,t)},Wn.reduce=function(e,t,n){var r=Zs(e)?$t:Zt,i=arguments.length<3;return r(e,lo(t,4),n,i,pr)},Wn.reduceRight=function(e,t,n){var r=Zs(e)?Lt:Zt,i=arguments.length<3;return r(e,lo(t,4),n,i,dr)},Wn.repeat=function(e,t,r){return t=(r?wo(e,t,r):t===n)?1:va(t),Yr(ba(e),t)},Wn.replace=function(){var e=arguments,t=ba(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Wn.result=function(e,t,r){var i=-1,o=(t=bi(t,e)).length;for(o||(o=1,e=n);++i<o;){var s=null==e?n:e[Do(t[i])];s===n&&(i=o,s=r),e=Qs(s)?s.call(e):s}return e},Wn.round=Eu,Wn.runInContext=e,Wn.sample=function(e){return(Zs(e)?Xn:Xr)(e)},Wn.size=function(e){if(null==e)return 0;if(Ks(e))return la(e)?fn(e):e.length;var t=vo(e);return t==E||t==z?e.size:Br(e).length},Wn.snakeCase=Ga,Wn.some=function(e,t,r){var i=Zs(e)?Ot:oi;return r&&wo(e,t,r)&&(t=n),i(e,lo(t,3))},Wn.sortedIndex=function(e,t){return si(e,t)},Wn.sortedIndexBy=function(e,t,n){return ai(e,t,lo(n,2))},Wn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=si(e,t);if(r<n&&Us(e[r],t))return r}return-1},Wn.sortedLastIndex=function(e,t){return si(e,t,!0)},Wn.sortedLastIndexBy=function(e,t,n){return ai(e,t,lo(n,2),!0)},Wn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=si(e,t,!0)-1;if(Us(e[n],t))return n}return-1},Wn.startCase=Ya,Wn.startsWith=function(e,t,n){return e=ba(e),n=null==n?0:ur(va(n),0,e.length),t=ci(t),e.slice(n,n+t.length)==t},Wn.subtract=Su,Wn.sum=function(e){return e&&e.length?Vt(e,ou):0},Wn.sumBy=function(e,t){return e&&e.length?Vt(e,lo(t,2)):0},Wn.template=function(e,t,r){var i=Wn.templateSettings;r&&wo(e,t,r)&&(t=n),e=ba(e),t=xa({},t,i,Qi);var o,s,a=xa({},t.imports,i.imports,Qi),u=ja(a),l=Yt(a,u),c=0,f=t.interpolate||we,h="__p += '",p=ze((t.escape||we).source+"|"+f.source+"|"+(f===Q?pe:we).source+"|"+(t.evaluate||we).source+"|$","g"),d="//# sourceURL="+(Be.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++it+"]")+"\n";e.replace(p,(function(t,n,r,i,a,u){return r||(r=i),h+=e.slice(c,u).replace(ke,rn),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),a&&(s=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+t.length,t})),h+="';\n";var g=Be.call(t,"variable")&&t.variable;g||(h="with (obj) {\n"+h+"\n}\n"),h=(s?h.replace(q,""):h).replace(H,"$1").replace(Z,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=eu((function(){return Pe(u,d+"return "+h).apply(n,l)}));if(v.source=h,Xs(v))throw v;return v},Wn.times=function(e,t){if((e=va(e))<1||e>h)return[];var n=d,r=bn(e,d);t=lo(t),e-=d;for(var i=Kt(r,t);++n<e;)t(n);return i},Wn.toFinite=ga,Wn.toInteger=va,Wn.toLength=ma,Wn.toLower=function(e){return ba(e).toLowerCase()},Wn.toNumber=ya,Wn.toSafeInteger=function(e){return e?ur(va(e),-9007199254740991,h):0===e?e:0},Wn.toString=ba,Wn.toUpper=function(e){return ba(e).toUpperCase()},Wn.trim=function(e,t,r){if((e=ba(e))&&(r||t===n))return e.replace(oe,"");if(!e||!(t=ci(t)))return e;var i=hn(e),o=hn(t);return ki(i,Xt(i,o),Qt(i,o)+1).join("")},Wn.trimEnd=function(e,t,r){if((e=ba(e))&&(r||t===n))return e.replace(ae,"");if(!e||!(t=ci(t)))return e;var i=hn(e);return ki(i,0,Qt(i,hn(t))+1).join("")},Wn.trimStart=function(e,t,r){if((e=ba(e))&&(r||t===n))return e.replace(se,"");if(!e||!(t=ci(t)))return e;var i=hn(e);return ki(i,Xt(i,hn(t))).join("")},Wn.truncate=function(e,t){var r=30,i="...";if(na(t)){var o="separator"in t?t.separator:o;r="length"in t?va(t.length):r,i="omission"in t?ci(t.omission):i}var s=(e=ba(e)).length;if(on(e)){var a=hn(e);s=a.length}if(r>=s)return e;var u=r-fn(i);if(u<1)return i;var l=a?ki(a,0,u).join(""):e.slice(0,u);if(o===n)return l+i;if(a&&(u+=l.length-u),aa(o)){if(e.slice(u).search(o)){var c,f=l;for(o.global||(o=ze(o.source,ba(de.exec(o))+"g")),o.lastIndex=0;c=o.exec(f);)var h=c.index;l=l.slice(0,h===n?u:h)}}else if(e.indexOf(ci(o),u)!=u){var p=l.lastIndexOf(o);p>-1&&(l=l.slice(0,p))}return l+i},Wn.unescape=function(e){return(e=ba(e))&&G.test(e)?e.replace(V,pn):e},Wn.uniqueId=function(e){var t=++Me;return ba(e)+t},Wn.upperCase=Ja,Wn.upperFirst=Xa,Wn.each=bs,Wn.eachRight=ws,Wn.first=Ko,lu(Wn,function(){var e={};return wr(Wn,(function(t,n){Be.call(Wn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Wn.VERSION="4.17.20",Pt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Wn[e].placeholder=Wn})),Pt(["drop","take"],(function(e,t){Hn.prototype[e]=function(r){r=r===n?1:_n(va(r),0);var i=this.__filtered__&&!t?new Hn(this):this.clone();return i.__filtered__?i.__takeCount__=bn(r,i.__takeCount__):i.__views__.push({size:bn(r,d),type:e+(i.__dir__<0?"Right":"")}),i},Hn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Pt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Hn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:lo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Pt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Hn.prototype[e]=function(){return this[n](1).value()[0]}})),Pt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Hn.prototype[e]=function(){return this.__filtered__?new Hn(this):this[n](1)}})),Hn.prototype.compact=function(){return this.filter(ou)},Hn.prototype.find=function(e){return this.filter(e).head()},Hn.prototype.findLast=function(e){return this.reverse().find(e)},Hn.prototype.invokeMap=Jr((function(e,t){return"function"==typeof e?new Hn(this):this.map((function(n){return Ir(n,e,t)}))})),Hn.prototype.reject=function(e){return this.filter(Bs(lo(e)))},Hn.prototype.slice=function(e,t){e=va(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Hn(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==n&&(r=(t=va(t))<0?r.dropRight(-t):r.take(t-e)),r)},Hn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Hn.prototype.toArray=function(){return this.take(d)},wr(Hn.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),o=Wn[i?"take"+("last"==t?"Right":""):t],s=i||/^find/.test(t);o&&(Wn.prototype[t]=function(){var t=this.__wrapped__,a=i?[1]:arguments,u=t instanceof Hn,l=a[0],c=u||Zs(t),f=function(e){var t=o.apply(Wn,jt([e],a));return i&&h?t[0]:t};c&&r&&"function"==typeof l&&1!=l.length&&(u=c=!1);var h=this.__chain__,p=!!this.__actions__.length,d=s&&!h,g=u&&!p;if(!s&&c){t=g?t:new Hn(this);var v=e.apply(t,a);return v.__actions__.push({func:gs,args:[f],thisArg:n}),new qn(v,h)}return d&&g?e.apply(this,a):(v=this.thru(f),d?i?v.value()[0]:v.value():v)})})),Pt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Te[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Wn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Zs(i)?i:[],e)}return this[n]((function(n){return t.apply(Zs(n)?n:[],e)}))}})),wr(Hn.prototype,(function(e,t){var n=Wn[t];if(n){var r=n.name+"";Be.call(Tn,r)||(Tn[r]=[]),Tn[r].push({name:t,func:n})}})),Tn[Wi(n,2).name]=[{name:"wrapper",func:n}],Hn.prototype.clone=function(){var e=new Hn(this.__wrapped__);return e.__actions__=Ri(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ri(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ri(this.__views__),e},Hn.prototype.reverse=function(){if(this.__filtered__){var e=new Hn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Hn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Zs(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=bn(t,e+s);break;case"takeRight":e=_n(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,l=r?a:s-1,c=this.__iteratees__,f=c.length,h=0,p=bn(u,this.__takeCount__);if(!n||!r&&i==u&&p==u)return gi(e,this.__actions__);var d=[];e:for(;u--&&h<p;){for(var g=-1,v=e[l+=t];++g<f;){var m=c[g],y=m.iteratee,_=m.type,b=y(v);if(2==_)v=b;else if(!b){if(1==_)continue e;break e}}d[h++]=v}return d},Wn.prototype.at=vs,Wn.prototype.chain=function(){return ds(this)},Wn.prototype.commit=function(){return new qn(this.value(),this.__chain__)},Wn.prototype.next=function(){this.__values__===n&&(this.__values__=da(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?n:this.__values__[this.__index__++]}},Wn.prototype.plant=function(e){for(var t,r=this;r instanceof Fn;){var i=Wo(r);i.__index__=0,i.__values__=n,t?o.__wrapped__=i:t=i;var o=i;r=r.__wrapped__}return o.__wrapped__=e,t},Wn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Hn){var t=e;return this.__actions__.length&&(t=new Hn(this)),(t=t.reverse()).__actions__.push({func:gs,args:[ns],thisArg:n}),new qn(t,this.__chain__)}return this.thru(ns)},Wn.prototype.toJSON=Wn.prototype.valueOf=Wn.prototype.value=function(){return gi(this.__wrapped__,this.__actions__)},Wn.prototype.first=Wn.prototype.head,at&&(Wn.prototype[at]=function(){return this}),Wn}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(ht._=dn,define((function(){return dn}))):dt?((dt.exports=dn)._=dn,pt._=dn):ht._=dn}.call(this),t.exports}.call({}),ce={};Object.defineProperty(ce,"__esModule",{value:!0});var fe=(Re=void 0,Ie=ce.Emitter=Re,ce.Disposable=Ie);ce.CompositeDisposable=fe;var he={};Object.defineProperty(he,"__esModule",{value:!0});var pe=void 0;he.default=pe;var de=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ge={};Object.defineProperty(ge,"__esModule",{value:!0});var ve=void 0;ge.default=ve;var me=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ye=function(e){return e&&e.__esModule?e:{default:e}}(s);ve=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(0,ye.default)("function"==typeof t,"callback should be a function"),this.callback=t}return me(e,[{key:"dispose",value:function(){this.callback&&(this.callback(),this.callback=null)}},{key:"disposed",get:function(){return null===this.callback}}]),e}(),ge.default=ve;var _e=function(e){return e&&e.__esModule?e:{default:e}}(ge);pe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.disposed=!1,this.handlers={}}return de(e,[{key:"on",value:function(e,t){var n=this;if(this.disposed)throw new Error("Emitter has been disposed");if("function"!=typeof t)throw new Error("Event handler must be a function");var r=this.handlers[e];return void 0===r?r=this.handlers[e]=[t]:r.push(t),new _e.default((function(){n.off(e,t)}))}},{key:"off",value:function(e,t){if(!this.disposed&&this.handlers[e]){var n=this.handlers[e].indexOf(t);-1!==n&&this.handlers[e].splice(n,1)}}},{key:"clear",value:function(){this.handlers={}}},{key:"emit",value:function(e){if(this.disposed)return Promise.resolve([]);if(!this.handlers[e])return Promise.resolve([]);for(var t=[],n=this.handlers[e],r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];for(var s=0,a=n.length;s<a;++s)t.push(n[s].apply(null,i));return Promise.all(t)}},{key:"dispose",value:function(){this.disposed=!0,this.clear()}}]),e}(),he.default=pe;var be=ze(he),we=ze(ge),ke={};Object.defineProperty(ke,"__esModule",{value:!0});var xe=void 0;ke.default=xe;var Ee=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Se={};Object.defineProperty(Se,"__esModule",{value:!0});var Pe=function(e){for(var t=0,n=e.length;t<n;++t){var r=e[t];if(!r||"function"!=typeof r.dispose&&"function"!=typeof r)throw new Error("Invalid disposable provided")}};function Ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Se.validate=Pe,xe=function(){function e(){Ae(this,e);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];(0,Se.validate)(n),this.disposed=!1,this.disposables=new Set(n)}return Ee(e,[{key:"add",value:function(){if(!this.disposed){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];(0,Se.validate)(t);for(var r=0,i=t.length;r<i;++r)this.disposables.add(t[r])}}},{key:"delete",value:function(){if(!this.disposed){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t.length;r<i;++r)this.disposables.delete(t[r])}}},{key:"clear",value:function(){this.disposed||this.disposables.clear()}},{key:"dispose",value:function(){if(!this.disposed){var e=!0,t=!1,n=void 0;try{for(var r,i=this.disposables[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;"function"==typeof o.dispose?o.dispose():"function"==typeof o&&o()}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}this.disposed=!0,this.disposables.clear()}}}]),e}(),ke.default=xe;var Ce=ze(ke);function ze(e){return e&&e.__esModule?e:{default:e}}var Re=be.default;ce.Emitter=Re;var Ie=we.default;ce.Disposable=Ie,fe=Ce.default,ce.CompositeDisposable=fe;var Te={Emitter:be.default,Disposable:we.default,CompositeDisposable:Ce.default};ce.default=Te,ue=function(e,t,n,r){if(e.on)e.on(t,n,r);else if(e.addListener)e.addListener(t,n,r);else{if(!e.addEventListener)throw new Error("Unknown event emitter");e.addEventListener(t,n,r)}return new ce.Disposable((function(){if(e.off)e.off(t,n);else if(e.removeListener)e.removeListener(t,n);else{if(!e.removeEventListener)throw new Error("Unknown event emitter");e.removeEventListener(t,n)}}))};class je{constructor(){this.emitter=new y,this.expanded=!1,this.subscriptions=new v,this.subscriptions.add(this.emitter),this.subscriptions.add(atom.config.observe("linter-ui-default.showProviderName",(e=>{const t=void 0!==this.showProviderName;this.showProviderName=e,t&&this.emitter.emit("should-update")}))),this.subscriptions.add(atom.commands.add("atom-workspace",{"linter-ui-default:expand-tooltip":e=>{var t;this.expanded||(this.expanded=!0,this.emitter.emit("should-expand"),(null===(t=null==e?void 0:e.originalEvent)||void 0===t?void 0:t.isTrusted)&&document.body.addEventListener("keyup",(function e(){document.body.removeEventListener("keyup",e),atom.commands.dispatch(atom.views.getView(atom.workspace),"linter-ui-default:collapse-tooltip")}),{passive:!0}))},"linter-ui-default:collapse-tooltip":()=>{this.expanded=!1,this.emitter.emit("should-collapse")}}))}onShouldUpdate(e){return this.emitter.on("should-update",e)}onShouldExpand(e){return this.emitter.on("should-expand",e)}onShouldCollapse(e){return this.emitter.on("should-collapse",e)}dispose(){this.emitter.dispose()}}var $e,Le,Oe={},Be={};function Me(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}Be={defaults:{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},getDefaults:Me,changeDefaults:function(e){Le=e,Be.defaults=Le}};var De;const Ne=/[&<>"']/,We=/[&<>"']/g,Ue=/[<>"']|&(?!#?\w+;)/,Fe=/[<>"']|&(?!#?\w+;)/g,qe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},He=e=>qe[e];const Ze=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function Ve(e){return e.replace(Ze,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const Ke=/(^|[^\[])\^/g;const Ge=/[^\w:]/g,Ye=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;const Je={},Xe=/^[^:]+:\/*[^/]*$/,Qe=/^([^:]+:)[\s\S]*$/,et=/^([^:]+:\/*[^/]*)[\s\S]*$/;function tt(e,t){Je[" "+e]||(Xe.test(e)?Je[" "+e]=e+"/":Je[" "+e]=nt(e,"/",!0));const n=-1===(e=Je[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(Qe,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(et,"$1")+t:e+t}function nt(e,t,n){const r=e.length;if(0===r)return"";let i=0;for(;i<r;){const o=e.charAt(r-i-1);if(o!==t||n){if(o===t||!n)break;i++}else i++}return e.substr(0,r-i)}De={escape:function(e,t){if(t){if(Ne.test(e))return e.replace(We,He)}else if(Ue.test(e))return e.replace(Fe,He);return e},unescape:Ve,edit:function(e,t){e=e.source||e,t=t||"";const n={replace:(t,r)=>(r=(r=r.source||r).replace(Ke,"$1"),e=e.replace(t,r),n),getRegex:()=>new RegExp(e,t)};return n},cleanUrl:function(e,t,n){if(e){let e;try{e=decodeURIComponent(Ve(n)).replace(Ge,"").toLowerCase()}catch(e){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!Ye.test(n)&&(n=tt(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n},resolveUrl:tt,noopTest:{exec:function(){}},merge:function(e){let t,n,r=1;for(;r<arguments.length;r++)for(n in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},splitCells:function(e,t){const n=e.replace(/\|/g,((e,t,n)=>{let r=!1,i=t;for(;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"})).split(/ \|/);let r=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n},rtrim:nt,findClosingBracket:function(e,t){if(-1===e.indexOf(t[1]))return-1;const n=e.length;let r=0,i=0;for(;i<n;i++)if("\\"===e[i])i++;else if(e[i]===t[0])r++;else if(e[i]===t[1]&&(r--,r<0))return i;return-1},checkSanitizeDeprecation:function(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},repeatString:function(e,t){if(t<1)return"";let n="";for(;t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}};const{rtrim:rt,splitCells:it,escape:ot,findClosingBracket:st}=De;function at(e,t,n){const r=t.href,i=t.title?ot(t.title):null,o=e[1].replace(/\\([\[\]])/g,"$1");return"!"!==e[0].charAt(0)?{type:"link",raw:n,href:r,title:i,text:o}:{type:"image",raw:n,href:r,title:i,text:ot(o)}}$e=class{constructor(e){this.options=e||Le}space(e){const t=this.rules.block.newline.exec(e);if(t)return t[0].length>1?{type:"space",raw:t[0]}:{raw:"\n"}}code(e,t){const n=this.rules.block.code.exec(e);if(n){const e=t[t.length-1];if(e&&"paragraph"===e.type)return{raw:n[0],text:n[0].trimRight()};const r=n[0].replace(/^ {4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:rt(r,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t){const n=e.match(/^(\s+)(?:```)/);if(null===n)return t;const r=n[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[n]=t;return n.length>=r.length?e.slice(r.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim():t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=rt(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e}}}nptable(e){const t=this.rules.block.nptable.exec(e);if(t){const e={type:"table",header:it(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[],raw:t[0]};if(e.header.length===e.align.length){let t,n=e.align.length;for(t=0;t<n;t++)/^ *-+: *$/.test(e.align[t])?e.align[t]="right":/^ *:-+: *$/.test(e.align[t])?e.align[t]="center":/^ *:-+ *$/.test(e.align[t])?e.align[t]="left":e.align[t]=null;for(n=e.cells.length,t=0;t<n;t++)e.cells[t]=it(e.cells[t],e.header.length);return e}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const e=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],text:e}}}list(e){const t=this.rules.block.list.exec(e);if(t){let e=t[0];const n=t[2],r=n.length>1,i={type:"list",raw:e,ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]},o=t[0].match(this.rules.block.item);let s,a,u,l,c,f,h,p,d=!1,g=o.length;u=this.rules.block.listItemStart.exec(o[0]);for(let t=0;t<g;t++){if(s=o[t],e=s,t!==g-1){if(l=this.rules.block.listItemStart.exec(o[t+1]),l[1].length>u[0].length||l[1].length>3){o.splice(t,2,o[t]+"\n"+o[t+1]),t--,g--;continue}(!this.options.pedantic||this.options.smartLists?l[2][l[2].length-1]!==n[n.length-1]:r===(1===l[2].length))&&(c=o.slice(t+1).join("\n"),i.raw=i.raw.substring(0,i.raw.length-c.length),t=g-1),u=l}a=s.length,s=s.replace(/^ *([*+-]|\d+[.)]) ?/,""),~s.indexOf("\n ")&&(a-=s.length,s=this.options.pedantic?s.replace(/^ {1,4}/gm,""):s.replace(new RegExp("^ {1,"+a+"}","gm"),"")),f=d||/\n\n(?!\s*$)/.test(s),t!==g-1&&(d="\n"===s.charAt(s.length-1),f||(f=d)),f&&(i.loose=!0),this.options.gfm&&(h=/^\[[ xX]\] /.test(s),p=void 0,h&&(p=" "!==s[1],s=s.replace(/^\[[ xX]\] +/,""))),i.items.push({type:"list_item",raw:e,task:h,checked:p,loose:f,text:s})}return i}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:this.options.sanitize?"paragraph":"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):ot(t[0]):t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){t[3]&&(t[3]=t[3].substring(1,t[3].length-1));return{tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}}}table(e){const t=this.rules.block.table.exec(e);if(t){const e={type:"table",header:it(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[]};if(e.header.length===e.align.length){e.raw=t[0];let n,r=e.align.length;for(n=0;n<r;n++)/^ *-+: *$/.test(e.align[n])?e.align[n]="right":/^ *:-+: *$/.test(e.align[n])?e.align[n]="center":/^ *:-+ *$/.test(e.align[n])?e.align[n]="left":e.align[n]=null;for(r=e.cells.length,n=0;n<r;n++)e.cells[n]=it(e.cells[n].replace(/^ *\| *| *\| *$/g,""),e.header.length);return e}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1]}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t)return{type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1]}}text(e,t){const n=this.rules.block.text.exec(e);if(n){const e=t[t.length-1];return e&&"text"===e.type?{raw:n[0],text:n[0]}:{type:"text",raw:n[0],text:n[0]}}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:ot(t[1])}}tag(e,t,n){const r=this.rules.inline.tag.exec(e);if(r)return!t&&/^<a /i.test(r[0])?t=!0:t&&/^<\/a>/i.test(r[0])&&(t=!1),!n&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?n=!0:n&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(n=!1),{type:this.options.sanitize?"text":"html",raw:r[0],inLink:t,inRawBlock:n,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):ot(r[0]):r[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=rt(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=st(t[2],"()");if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],r="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],r=e[3])}else r=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),at(t,{href:n?n.replace(this.rules.inline._escapes,"$1"):n,title:r?r.replace(this.rules.inline._escapes,"$1"):r},t[0])}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=(n[2]||n[1]).replace(/\s+/g," ");if(e=t[e.toLowerCase()],!e||!e.href){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return at(n,e,n[0])}}strong(e,t,n=""){let r=this.rules.inline.strong.start.exec(e);if(r&&(!r[1]||r[1]&&(""===n||this.rules.inline.punctuation.exec(n)))){t=t.slice(-1*e.length);const n="**"===r[0]?this.rules.inline.strong.endAst:this.rules.inline.strong.endUnd;let i;for(n.lastIndex=0;null!=(r=n.exec(t));)if(i=this.rules.inline.strong.middle.exec(t.slice(0,r.index+3)),i)return{type:"strong",raw:e.slice(0,i[0].length),text:e.slice(2,i[0].length-2)}}}em(e,t,n=""){let r=this.rules.inline.em.start.exec(e);if(r&&(!r[1]||r[1]&&(""===n||this.rules.inline.punctuation.exec(n)))){t=t.slice(-1*e.length);const n="*"===r[0]?this.rules.inline.em.endAst:this.rules.inline.em.endUnd;let i;for(n.lastIndex=0;null!=(r=n.exec(t));)if(i=this.rules.inline.em.middle.exec(t.slice(0,r.index+2)),i)return{type:"em",raw:e.slice(0,i[0].length),text:e.slice(1,i[0].length-1)}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e),r=/^ /.test(e)&&/ $/.test(e);return n&&r&&(e=e.substring(1,e.length-1)),e=ot(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2]}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let e,r;return"@"===n[2]?(e=ot(this.options.mangle?t(n[1]):n[1]),r="mailto:"+e):(e=ot(n[1]),r=e),{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let e,r;if("@"===n[2])e=ot(this.options.mangle?t(n[0]):n[0]),r="mailto:"+e;else{let t;do{t=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(t!==n[0]);e=ot(n[0]),r="www."===n[1]?"http://"+e:e}return{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e,t,n){const r=this.rules.inline.text.exec(e);if(r){let e;return e=t?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):ot(r[0]):r[0]:ot(this.options.smartypants?n(r[0]):r[0]),{type:"text",raw:r[0],text:e}}}};var ut;const{noopTest:lt,edit:ct,merge:ft}=De,ht={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:lt,table:lt,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};ht.def=ct(ht.def).replace("label",ht._label).replace("title",ht._title).getRegex(),ht.bullet=/(?:[*+-]|\d{1,9}[.)])/,ht.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,ht.item=ct(ht.item,"gm").replace(/bull/g,ht.bullet).getRegex(),ht.listItemStart=ct(/^( *)(bull)/).replace("bull",ht.bullet).getRegex(),ht.list=ct(ht.list).replace(/bull/g,ht.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+ht.def.source+")").getRegex(),ht._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ht._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,ht.html=ct(ht.html,"i").replace("comment",ht._comment).replace("tag",ht._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ht.paragraph=ct(ht._paragraph).replace("hr",ht.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",ht._tag).getRegex(),ht.blockquote=ct(ht.blockquote).replace("paragraph",ht.paragraph).getRegex(),ht.normal=ft({},ht),ht.gfm=ft({},ht.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),ht.gfm.nptable=ct(ht.gfm.nptable).replace("hr",ht.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",ht._tag).getRegex(),ht.gfm.table=ct(ht.gfm.table).replace("hr",ht.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",ht._tag).getRegex(),ht.pedantic=ft({},ht.normal,{html:ct("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",ht._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:lt,paragraph:ct(ht.normal._paragraph).replace("hr",ht.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",ht.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const pt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:lt,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",strong:{start:/^(?:(\*\*(?=[*punctuation]))|\*\*)(?![\s])|__/,middle:/^\*\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*\*$|^__(?![\s])((?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?)__$/,endAst:/[^punctuation\s]\*\*(?!\*)|[punctuation]\*\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]__(?!_)(?:(?=[punctuation*\s])|$)/},em:{start:/^(?:(\*(?=[punctuation]))|\*)(?![*\s])|_/,middle:/^\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*$|^_(?![_\s])(?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?_$/,endAst:/[^punctuation\s]\*(?!\*)|[punctuation]\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]_(?!_)(?:(?=[punctuation*\s])|$)/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:lt,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\s*punctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};pt.punctuation=ct(pt.punctuation).replace(/punctuation/g,pt._punctuation).getRegex(),pt._blockSkip="\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|<[^>]*?>",pt._overlapSkip="__[^_]*?__|\\*\\*\\[^\\*\\]*?\\*\\*",pt._comment=ct(ht._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),pt.em.start=ct(pt.em.start).replace(/punctuation/g,pt._punctuation).getRegex(),pt.em.middle=ct(pt.em.middle).replace(/punctuation/g,pt._punctuation).replace(/overlapSkip/g,pt._overlapSkip).getRegex(),pt.em.endAst=ct(pt.em.endAst,"g").replace(/punctuation/g,pt._punctuation).getRegex(),pt.em.endUnd=ct(pt.em.endUnd,"g").replace(/punctuation/g,pt._punctuation).getRegex(),pt.strong.start=ct(pt.strong.start).replace(/punctuation/g,pt._punctuation).getRegex(),pt.strong.middle=ct(pt.strong.middle).replace(/punctuation/g,pt._punctuation).replace(/overlapSkip/g,pt._overlapSkip).getRegex(),pt.strong.endAst=ct(pt.strong.endAst,"g").replace(/punctuation/g,pt._punctuation).getRegex(),pt.strong.endUnd=ct(pt.strong.endUnd,"g").replace(/punctuation/g,pt._punctuation).getRegex(),pt.blockSkip=ct(pt._blockSkip,"g").getRegex(),pt.overlapSkip=ct(pt._overlapSkip,"g").getRegex(),pt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,pt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,pt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,pt.autolink=ct(pt.autolink).replace("scheme",pt._scheme).replace("email",pt._email).getRegex(),pt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,pt.tag=ct(pt.tag).replace("comment",pt._comment).replace("attribute",pt._attribute).getRegex(),pt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,pt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,pt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,pt.link=ct(pt.link).replace("label",pt._label).replace("href",pt._href).replace("title",pt._title).getRegex(),pt.reflink=ct(pt.reflink).replace("label",pt._label).getRegex(),pt.reflinkSearch=ct(pt.reflinkSearch,"g").replace("reflink",pt.reflink).replace("nolink",pt.nolink).getRegex(),pt.normal=ft({},pt),pt.pedantic=ft({},pt.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ct(/^!?\[(label)\]\((.*?)\)/).replace("label",pt._label).getRegex(),reflink:ct(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",pt._label).getRegex()}),pt.gfm=ft({},pt.normal,{escape:ct(pt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),pt.gfm.url=ct(pt.gfm.url,"i").replace("email",pt.gfm._extended_email).getRegex(),pt.breaks=ft({},pt.gfm,{br:ct(pt.br).replace("{2,}","*").getRegex(),text:ct(pt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),ut={block:ht,inline:pt};const{block:dt,inline:gt}=ut,{repeatString:vt}=De;function mt(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function yt(e){let t,n,r="";const i=e.length;for(t=0;t<i;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}Oe=class e{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Le,this.options.tokenizer=this.options.tokenizer||new $e,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;const t={block:dt.normal,inline:gt.normal};this.options.pedantic?(t.block=dt.pedantic,t.inline=gt.pedantic):this.options.gfm&&(t.block=dt.gfm,this.options.breaks?t.inline=gt.breaks:t.inline=gt.gfm),this.tokenizer.rules=t}static get rules(){return{block:dt,inline:gt}}static lex(t,n){return new e(n).lex(t)}static lexInline(t,n){return new e(n).inlineTokens(t)}lex(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(e,this.tokens,!0),this.inline(this.tokens),this.tokens}blockTokens(e,t=[],n=!0){let r,i,o,s;for(e=e.replace(/^ +$/gm,"");e;)if(r=this.tokenizer.space(e))e=e.substring(r.raw.length),r.type&&t.push(r);else if(r=this.tokenizer.code(e,t))e=e.substring(r.raw.length),r.type?t.push(r):(s=t[t.length-1],s.raw+="\n"+r.raw,s.text+="\n"+r.text);else if(r=this.tokenizer.fences(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.heading(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.nptable(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.hr(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.blockquote(e))e=e.substring(r.raw.length),r.tokens=this.blockTokens(r.text,[],n),t.push(r);else if(r=this.tokenizer.list(e)){for(e=e.substring(r.raw.length),o=r.items.length,i=0;i<o;i++)r.items[i].tokens=this.blockTokens(r.items[i].text,[],!1);t.push(r)}else if(r=this.tokenizer.html(e))e=e.substring(r.raw.length),t.push(r);else if(n&&(r=this.tokenizer.def(e)))e=e.substring(r.raw.length),this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});else if(r=this.tokenizer.table(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.lheading(e))e=e.substring(r.raw.length),t.push(r);else if(n&&(r=this.tokenizer.paragraph(e)))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.text(e,t))e=e.substring(r.raw.length),r.type?t.push(r):(s=t[t.length-1],s.raw+="\n"+r.raw,s.text+="\n"+r.text);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}return t}inline(e){let t,n,r,i,o,s;const a=e.length;for(t=0;t<a;t++)switch(s=e[t],s.type){case"paragraph":case"text":case"heading":s.tokens=[],this.inlineTokens(s.text,s.tokens);break;case"table":for(s.tokens={header:[],cells:[]},i=s.header.length,n=0;n<i;n++)s.tokens.header[n]=[],this.inlineTokens(s.header[n],s.tokens.header[n]);for(i=s.cells.length,n=0;n<i;n++)for(o=s.cells[n],s.tokens.cells[n]=[],r=0;r<o.length;r++)s.tokens.cells[n][r]=[],this.inlineTokens(o[r],s.tokens.cells[n][r]);break;case"blockquote":this.inline(s.tokens);break;case"list":for(i=s.items.length,n=0;n<i;n++)this.inline(s.items[n].tokens)}return e}inlineTokens(e,t=[],n=!1,r=!1){let i,o,s,a,u=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(o=this.tokenizer.rules.inline.reflinkSearch.exec(u));)e.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(u=u.slice(0,o.index)+"["+vt("a",o[0].length-2)+"]"+u.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(o=this.tokenizer.rules.inline.blockSkip.exec(u));)u=u.slice(0,o.index)+"["+vt("a",o[0].length-2)+"]"+u.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;e;)if(s||(a=""),s=!1,i=this.tokenizer.escape(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.tag(e,n,r))e=e.substring(i.raw.length),n=i.inLink,r=i.inRawBlock,t.push(i);else if(i=this.tokenizer.link(e))e=e.substring(i.raw.length),"link"===i.type&&(i.tokens=this.inlineTokens(i.text,[],!0,r)),t.push(i);else if(i=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(i.raw.length),"link"===i.type&&(i.tokens=this.inlineTokens(i.text,[],!0,r)),t.push(i);else if(i=this.tokenizer.strong(e,u,a))e=e.substring(i.raw.length),i.tokens=this.inlineTokens(i.text,[],n,r),t.push(i);else if(i=this.tokenizer.em(e,u,a))e=e.substring(i.raw.length),i.tokens=this.inlineTokens(i.text,[],n,r),t.push(i);else if(i=this.tokenizer.codespan(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.br(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.del(e))e=e.substring(i.raw.length),i.tokens=this.inlineTokens(i.text,[],n,r),t.push(i);else if(i=this.tokenizer.autolink(e,yt))e=e.substring(i.raw.length),t.push(i);else if(n||!(i=this.tokenizer.url(e,yt))){if(i=this.tokenizer.inlineText(e,r,mt))e=e.substring(i.raw.length),a=i.raw.slice(-1),s=!0,t.push(i);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(i.raw.length),t.push(i);return t}};var _t,bt={};const{cleanUrl:wt,escape:kt}=De;_t=class{constructor(e){this.options=e||Le}code(e,t,n){const r=(t||"").match(/\S*/)[0];if(this.options.highlight){const t=this.options.highlight(e,r);null!=t&&t!==e&&(n=!0,e=t)}return r?'<pre><code class="'+this.options.langPrefix+kt(r,!0)+'">'+(n?e:kt(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:kt(e,!0))+"</code></pre>\n"}blockquote(e){return"<blockquote>\n"+e+"</blockquote>\n"}html(e){return e}heading(e,t,n,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,n){const r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"}listitem(e){return"<li>"+e+"</li>\n"}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>"+e+"</p>\n"}table(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return"<tr>\n"+e+"</tr>\n"}tablecell(e,t){const n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"}strong(e){return"<strong>"+e+"</strong>"}em(e){return"<em>"+e+"</em>"}codespan(e){return"<code>"+e+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>"+e+"</del>"}link(e,t,n){if(null===(e=wt(this.options.sanitize,this.options.baseUrl,e)))return n;let r='<a href="'+kt(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>",r}image(e,t,n){if(null===(e=wt(this.options.sanitize,this.options.baseUrl,e)))return n;let r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">",r}text(e){return e}};var xt;xt=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}};var Et;Et=class{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[e];do{r++,n=e+"-"+r}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=r,this.seen[n]=0),n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}};const{unescape:St}=De;bt=class e{constructor(e){this.options=e||Le,this.options.renderer=this.options.renderer||new _t,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new xt,this.slugger=new Et}static parse(t,n){return new e(n).parse(t)}static parseInline(t,n){return new e(n).parseInline(t)}parse(e,t=!0){let n,r,i,o,s,a,u,l,c,f,h,p,d,g,v,m,y,_,b="";const w=e.length;for(n=0;n<w;n++)switch(f=e[n],f.type){case"space":continue;case"hr":b+=this.renderer.hr();continue;case"heading":b+=this.renderer.heading(this.parseInline(f.tokens),f.depth,St(this.parseInline(f.tokens,this.textRenderer)),this.slugger);continue;case"code":b+=this.renderer.code(f.text,f.lang,f.escaped);continue;case"table":for(l="",u="",o=f.header.length,r=0;r<o;r++)u+=this.renderer.tablecell(this.parseInline(f.tokens.header[r]),{header:!0,align:f.align[r]});for(l+=this.renderer.tablerow(u),c="",o=f.cells.length,r=0;r<o;r++){for(a=f.tokens.cells[r],u="",s=a.length,i=0;i<s;i++)u+=this.renderer.tablecell(this.parseInline(a[i]),{header:!1,align:f.align[i]});c+=this.renderer.tablerow(u)}b+=this.renderer.table(l,c);continue;case"blockquote":c=this.parse(f.tokens),b+=this.renderer.blockquote(c);continue;case"list":for(h=f.ordered,p=f.start,d=f.loose,o=f.items.length,c="",r=0;r<o;r++)v=f.items[r],m=v.checked,y=v.task,g="",v.task&&(_=this.renderer.checkbox(m),d?v.tokens.length>0&&"text"===v.tokens[0].type?(v.tokens[0].text=_+" "+v.tokens[0].text,v.tokens[0].tokens&&v.tokens[0].tokens.length>0&&"text"===v.tokens[0].tokens[0].type&&(v.tokens[0].tokens[0].text=_+" "+v.tokens[0].tokens[0].text)):v.tokens.unshift({type:"text",text:_}):g+=_),g+=this.parse(v.tokens,d),c+=this.renderer.listitem(g,y,m);b+=this.renderer.list(c,h,p);continue;case"html":b+=this.renderer.html(f.text);continue;case"paragraph":b+=this.renderer.paragraph(this.parseInline(f.tokens));continue;case"text":for(c=f.tokens?this.parseInline(f.tokens):f.text;n+1<w&&"text"===e[n+1].type;)f=e[++n],c+="\n"+(f.tokens?this.parseInline(f.tokens):f.text);b+=t?this.renderer.paragraph(c):c;continue;default:{const e='Token with "'+f.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return b}parseInline(e,t){t=t||this.renderer;let n,r,i="";const o=e.length;for(n=0;n<o;n++)switch(r=e[n],r.type){case"escape":i+=t.text(r.text);break;case"html":i+=t.html(r.text);break;case"link":i+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break;case"image":i+=t.image(r.href,r.title,r.text);break;case"strong":i+=t.strong(this.parseInline(r.tokens,t));break;case"em":i+=t.em(this.parseInline(r.tokens,t));break;case"codespan":i+=t.codespan(r.text);break;case"br":i+=t.br();break;case"del":i+=t.del(this.parseInline(r.tokens,t));break;case"text":i+=t.text(r.text);break;default:{const e='Token with "'+r.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return i}};const{merge:Pt,checkSanitizeDeprecation:At,escape:Ct}=De,{getDefaults:zt,changeDefaults:Rt}=Be;function It(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(n=t,t=null),t=Pt({},It.defaults,t||{}),At(t),n){const r=t.highlight;let i;try{i=Oe.lex(e,t)}catch(e){return n(e)}const o=function(e){let o;if(!e)try{o=bt.parse(i,t)}catch(t){e=t}return t.highlight=r,e?n(e):n(null,o)};if(!r||r.length<3)return o();if(delete t.highlight,!i.length)return o();let s=0;return It.walkTokens(i,(function(e){"code"===e.type&&(s++,setTimeout((()=>{r(e.text,e.lang,(function(t,n){if(t)return o(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),s--,0===s&&o()}))}),0))})),void(0===s&&o())}try{const n=Oe.lex(e,t);return t.walkTokens&&It.walkTokens(n,t.walkTokens),bt.parse(n,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+Ct(e.message+"",!0)+"</pre>";throw e}}It.options=It.setOptions=function(e){return Pt(It.defaults,e),Rt(It.defaults),It},It.getDefaults=zt,It.defaults=Le,It.use=function(e){const t=Pt({},e);if(e.renderer){const n=It.defaults.renderer||new _t;for(const t in e.renderer){const r=n[t];n[t]=(...i)=>{let o=e.renderer[t].apply(n,i);return!1===o&&(o=r.apply(n,i)),o}}t.renderer=n}if(e.tokenizer){const n=It.defaults.tokenizer||new $e;for(const t in e.tokenizer){const r=n[t];n[t]=(...i)=>{let o=e.tokenizer[t].apply(n,i);return!1===o&&(o=r.apply(n,i)),o}}t.tokenizer=n}if(e.walkTokens){const n=It.defaults.walkTokens;t.walkTokens=t=>{e.walkTokens(t),n&&n(t)}}It.setOptions(t)},It.walkTokens=function(e,t){for(const n of e)switch(t(n),n.type){case"table":for(const e of n.tokens.header)It.walkTokens(e,t);for(const e of n.tokens.cells)for(const n of e)It.walkTokens(n,t);break;case"list":It.walkTokens(n.items,t);break;default:n.tokens&&It.walkTokens(n.tokens,t)}},It.parseInline=function(e,t){if(null==e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=Pt({},It.defaults,t||{}),At(t);try{const n=Oe.lexInline(e,t);return t.walkTokens&&It.walkTokens(n,t.walkTokens),bt.parseInline(n,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+Ct(e.message+"",!0)+"</pre>";throw e}},It.Parser=bt,It.parser=bt.parse,It.Renderer=_t,It.TextRenderer=xt,It.Lexer=Oe,It.lexer=Oe.lex,It.Tokenizer=$e,It.Slugger=Et,It.parse=It;var Tt=({onClick:e})=>f.createElement("button",{className:"linter-ui-default-fix-btn",onClick:e},"Fix");var jt=b(It);function $t(e){let t=!1;const[n,r]=p({description:"",descriptionShow:!1});function o(i=null){const s=!n.descriptionShow,a=n.description||e.message.description;if(s||i)if("string"==typeof a||i){const e=jt(i||a);r({description:e,descriptionShow:!0})}else if("function"==typeof a){if(r({...n,descriptionShow:!0}),t)return;t=!0,new Promise((function(e){e(a())})).then((e=>{if("string"!=typeof e)throw new Error("Expected result to be string, got: "+typeof e);o(e)})).catch((e=>{console.log("[Linter] Error getting descriptions",e),t=!1,n.descriptionShow&&o()}))}else console.error("[Linter] Invalid description detected, expected string or function but got:",typeof a);else r({...n,descriptionShow:!1})}h((()=>{e.delegate.onShouldUpdate((()=>{r({description:"",descriptionShow:!1})})),e.delegate.onShouldExpand((()=>{n.descriptionShow||o()})),e.delegate.onShouldCollapse((()=>{n.descriptionShow&&o()}))}),[]);const{message:s,delegate:a}=e;return f.createElement("div",{className:`linter-message ${s.severity}`,onClick:function(e){if(!(e.target instanceof HTMLElement))return;const t=function(e){for(;e&&!e.classList.contains("linter-line");){if(e instanceof HTMLAnchorElement)return e.href;e=e.parentElement}return null}(e.target);if(!t)return;const{protocol:n,hostname:r,query:o}=i(t,!0);if("atom:"===n&&"linter"===r&&o&&o.file){const{file:e,row:t,column:n}=o;j(Array.isArray(e)?e[0]:e,{row:t?parseInt(Array.isArray(t)?t[0]:t,10):0,column:n?parseInt(Array.isArray(n)?n[0]:n,10):0})}}},s.description&&f.createElement("a",{href:"#",onClick:()=>o()},f.createElement("span",{className:"icon linter-icon icon-"+(n.descriptionShow?"chevron-down":"chevron-right")})),f.createElement("div",{className:"linter-excerpt"},function(e){return!(2!==e.version||!e.solutions||!e.solutions.length)}(s)&&f.createElement(Tt,{onClick:()=>function(){const t=e.message,n=R();null!==n&&2===t.version&&t.solutions&&t.solutions.length&&M(n,B(t.solutions)[0])}()}),a.showProviderName?`${s.linterName}: `:"",s.excerpt)," ",s.reference&&s.reference.file&&f.createElement("a",{href:"#",onClick:()=>$(s,!0)},f.createElement("span",{className:"icon linter-icon icon-alignment-aligned-to"})),s.url&&f.createElement("a",{href:"#",onClick:()=>L(s)},f.createElement("span",{className:"icon linter-icon icon-link"})),n.descriptionShow&&f.createElement("div",{dangerouslySetInnerHTML:{__html:n.description||"Loading..."},className:"linter-line"}))}class Lt{constructor(e,t,n){this.element=document.createElement("div"),this.emitter=new y,this.subscriptions=new v,this.messages=e,this.subscriptions,this.subscriptions.add(this.emitter),this.marker=n.markBufferRange([t,t]),this.marker.onDidDestroy((()=>this.emitter.emit("did-destroy")));const r=new je;this.element.id="linter-tooltip",n.decorateMarker(this.marker,{type:"overlay",item:this.element}),this.subscriptions.add(r);const i=[];e.forEach((e=>{2===e.version&&i.push(f.createElement($t,{key:e.key,delegate:r,message:e}))})),u.render(f.createElement("div",{className:"linter-messages"},i),this.element),setTimeout((()=>{const e=this.element.getBoundingClientRect().height,r=n.getLineHeightInPixels();if(e<(t.row-n.getFirstVisibleScreenRow())*r){const t=this.element.parentElement;t&&(t.style.transform=`translateY(-${2+r+e}px)`)}this.element.style.visibility="visible"}),50)}isValid(e,t){if(1!==this.messages.length||!t.has(this.messages[0].key))return!1;const n=A(this.messages[0]);return Boolean(n&&n.containsPoint(e))}onDidDestroy(e){return this.emitter.on("did-destroy",e)}dispose(){this.emitter.emit("did-destroy"),this.subscriptions.dispose()}}var Ot=b(ue);class Bt{constructor(e){this.gutter=null,this.tooltip=null,this.showTooltip=!0,this.cursorPosition=null,this.tooltipFollows="Both",this.showProviderName=!0,this.currentLineMarker=null,this.emitter=new y,this.markers=new Map,this.messages=new Map,this.textEditor=e,this.subscriptions=new v,this.ignoreTooltipInvocation=!1,this.lastCursorPositions=new WeakMap,this.subscriptions.add(this.emitter),this.subscriptions.add(atom.config.observe("linter-ui-default.showTooltip",(e=>{this.showTooltip=e,!this.showTooltip&&this.tooltip&&this.removeTooltip()}))),this.subscriptions.add(atom.config.observe("linter-ui-default.showProviderName",(e=>{this.showProviderName=e}))),this.subscriptions.add(atom.config.observe("linter-ui-default.showDecorations",(e=>{const t=void 0!==this.showDecorations;this.showDecorations=e,t&&this.updateGutter()}))),this.subscriptions.add(atom.config.observe("linter-ui-default.gutterPosition",(e=>{const t=void 0!==this.gutterPosition;this.gutterPosition=e,t&&this.updateGutter()}))),this.subscriptions.add(e.onDidDestroy((()=>{this.dispose()})));let t=null;this.subscriptions.add(atom.config.observe("linter-ui-default.tooltipFollows",(e=>{this.tooltipFollows=e,t&&t.dispose(),t=new v,"Mouse"!==e&&"Both"!==e||t.add(this.listenForMouseMovement()),"Keyboard"!==e&&"Both"!==e||t.add(this.listenForKeyboardMovement()),this.removeTooltip()}))),this.subscriptions.add(new m((function(){null==t||t.dispose()}))),this.subscriptions.add(e.onDidChangeCursorPosition((({cursor:e,newBufferPosition:t})=>{const n=this.lastCursorPositions.get(e);n&&n.isEqual(t)||(this.lastCursorPositions.set(e,t),this.ignoreTooltipInvocation=!1),"Mouse"===this.tooltipFollows&&this.removeTooltip()}))),this.subscriptions.add(e.getBuffer().onDidChangeText((()=>{e.getCursors().forEach((e=>{this.lastCursorPositions.set(e,e.getBufferPosition())})),"Mouse"!==this.tooltipFollows&&(this.ignoreTooltipInvocation=!0,this.removeTooltip())}))),this.updateGutter(),this.listenForCurrentLine()}listenForCurrentLine(){this.subscriptions.add(this.textEditor.observeCursors((e=>{const t=({start:e,end:t})=>{const n=this.gutter;if(!n||this.subscriptions.disposed)return;const r=_.fromObject([e,t]),i=_.fromObject([[e.row,0],[t.row,1/0]]),o=r.isEmpty();if(e.row!==t.row&&0===r.end.column&&i.end.row--,this.lastRange&&this.lastRange.isEqual(i)&&o===this.lastIsEmpty)return;this.currentLineMarker&&(this.currentLineMarker.destroy(),this.currentLineMarker=null),this.lastRange=i,this.lastIsEmpty=o,this.currentLineMarker=this.textEditor.markScreenRange(i,{invalidate:"never"});const s=document.createElement("span");s.className="line-number cursor-line linter-cursor-line "+(o?"cursor-line-no-selection":""),n.decorateMarker(this.currentLineMarker,{item:s,class:"linter-row"})},n=e.getMarker(),r=new v;r.add(n.onDidChange((({newHeadScreenPosition:e,newTailScreenPosition:n})=>{t({start:e,end:n})}))),r.add(e.onDidDestroy((()=>{this.subscriptions.remove(r),r.dispose()}))),r.add(new m((()=>{this.currentLineMarker&&(this.currentLineMarker.destroy(),this.currentLineMarker=null)}))),this.subscriptions.add(r),t(n.getScreenRange())})))}listenForMouseMovement(){const e=atom.views.getView(this.textEditor);return Ot(e,"mousemove",le.debounce((t=>{if(!e.getComponent()||this.subscriptions.disposed||!function(e,t){let n=e;do{if(n.matches(t))return!0;n=n.parentElement}while(n&&"HTML"!==n.nodeName);return!1}(t.target,"div.scroll-view"))return;const n=this.tooltip;n&&function({event:e,editor:t,editorElement:n,tooltipElement:r,screenPosition:i}){const o=n.getComponent().pixelPositionForMouseEvent(e),s=n.pixelPositionForScreenPosition(i),a=o.top-s.top,u=o.left-s.left,l=t.getLineHeightInPixels(),c=r.offsetHeight+l,f=r.offsetWidth;if(a>0){if(a>c+1.5*l)return!1}else if(a<0&&a<-1.5*l)return!1;if(u>0){if(u>f+30)return!1}else if(u<0&&u<-30)return!1;return!0}({event:t,editor:this.textEditor,editorElement:e,tooltipElement:n.element,screenPosition:n.marker.getStartScreenPosition()})||(this.cursorPosition=function(e,t,n){const r=n.getComponent().pixelPositionForMouseEvent(e),i=n.getComponent().screenPositionForPixelPosition(r);if(Number.isNaN(i.row)||Number.isNaN(i.column))return null;const o=n.pixelPositionForScreenPosition(i),s=r.top-o.top,a=r.left-o.left;return(0===s||s>0&&s<20||s<0&&s>-20)&&(0===a||a>0&&a<20||a<0&&a>-20)?t.bufferPositionForScreenPosition(i):null}(t,this.textEditor,e),this.ignoreTooltipInvocation=!1,this.textEditor.largeFileMode&&(this.cursorPosition=null),this.cursorPosition?this.updateTooltip(this.cursorPosition):this.removeTooltip())}),100),{passive:!0})}listenForKeyboardMovement(){return this.textEditor.onDidChangeCursorPosition(le.debounce((({newBufferPosition:e})=>{this.cursorPosition=e,this.updateTooltip(e)}),16))}updateGutter(){if(this.removeGutter(),!this.showDecorations)return void(this.gutter=null);const e="Left"===this.gutterPosition?-100:100;this.gutter=this.textEditor.addGutter({name:"linter-ui-default",priority:e}),this.markers.forEach(((e,t)=>{const n=this.messages.get(t);if(n)for(const t of e)this.decorateMarker(n,t,"gutter")}))}removeGutter(){if(this.gutter)try{this.gutter.destroy()}catch(e){}}updateTooltip(e){if(!e||this.tooltip&&this.tooltip.isValid(e,this.messages))return;if(this.removeTooltip(),!this.showTooltip)return;if(this.ignoreTooltipInvocation)return;const t=T(this.messages,this.textEditor.getPath(),e);if(!t.length)return;this.tooltip=new Lt(t,e,this.textEditor);const n=this.tooltip.marker;t.forEach((e=>{this.saveMarker(e.key,n)})),this.tooltip.onDidDestroy((()=>{this.tooltip=null}))}removeTooltip(){this.tooltip&&this.tooltip.marker.destroy()}apply(e,t){const n=this.textEditor.getBuffer();for(let e=0,n=t.length;e<n;e++){const n=t[e];this.destroyMarker(n.key)}for(let t=0,r=e.length;t<r;t++){const r=e[t],i=A(r);if(!i)continue;const o=n.markRange(i,{invalidate:"never"});this.decorateMarker(r,o),o.onDidChange((({oldHeadPosition:e,newHeadPosition:t,isValid:n})=>{!n||0===t.row&&0!==e.row||2===r.version&&(r.location.position=o.previousEventState.range)}))}this.updateTooltip(this.cursorPosition)}decorateMarker(e,t,n="both"){this.saveMarker(e.key,t),this.messages.set(e.key,e),"both"!==n&&"editor"!==n||this.textEditor.decorateMarker(t,{type:"text",class:`linter-highlight linter-${e.severity}`});const r=this.gutter;if(r&&("both"===n||"gutter"===n)){const n=document.createElement("span");n.className=`linter-gutter linter-gutter-${e.severity} icon icon-${e.icon||"primitive-dot"}`,r.decorateMarker(t,{class:"linter-row",item:n})}}saveMarker(e,t){const n=this.markers.get(e)||[];n.push(t),this.markers.set(e,n)}destroyMarker(e){const t=this.markers.get(e);t&&t.forEach((e=>{e&&e.destroy()})),this.markers.delete(e),this.messages.delete(e)}onDidDestroy(e){return this.emitter.on("did-destroy",e)}dispose(){this.emitter.emit("did-destroy"),this.subscriptions.dispose(),this.removeGutter(),this.removeTooltip()}}class Mt{constructor(){this.editors=new Set,this.messages=[],this.firstRender=!0,this.subscriptions=new v,this.subscriptions.add(atom.workspace.observeTextEditors((e=>{this.getEditor(e)}))),this.subscriptions.add(atom.workspace.getCenter().observeActivePaneItem((e=>{this.editors.forEach((t=>{t.textEditor!==e&&t.removeTooltip()}))})))}isFirstRender(){return this.firstRender}update({messages:e,added:t,removed:n}){this.messages=e,this.firstRender=!1;const{editorsMap:r,filePaths:i}=function(e){var t;const n=new Map,r=[];for(const i of e.editors){const e=null!==(t=i.textEditor.getPath())&&void 0!==t?t:"";n.has(e)?n.get(e).editors.push(i):(n.set(e,{added:[],removed:[],editors:[i]}),r.push(e))}return{editorsMap:n,filePaths:r}}(this);t.forEach((function(e){if(!e||!e.location)return;const t=C(e);t&&r.has(t)&&r.get(t).added.push(e)})),n.forEach((function(e){if(!e||!e.location)return;const t=C(e);t&&r.has(t)&&r.get(t).removed.push(e)})),i.forEach((function(e){if(r.has(e)){const{added:t,removed:n,editors:i}=r.get(e);(t.length||n.length)&&i.forEach((e=>e.apply(t,n)))}}))}getEditor(e){for(const t of this.editors)if(t.textEditor===e)return t;const t=new Bt(e);return this.editors.add(t),t.onDidDestroy((()=>{this.editors.delete(t)})),t.subscriptions.add(e.onDidChangePath((()=>{t.dispose(),this.getEditor(e)}))),t.subscriptions.add(e.onDidChangeGrammar((()=>{t.dispose(),this.getEditor(e)}))),t.apply(I(this.messages,e.getPath()),[]),t}dispose(){for(const e of this.editors)e.dispose();this.subscriptions.dispose()}}function Dt(e,t){const n=t.find((t=>e.startsWith(t)));return n?function(e,t){const n=[],i=e.split(r.sep);for(;i.length;){const e=i.join(r.sep);if(e&&(n.push(e),e===t))break;i.pop()}return n}(e,n):[e]}class Nt{constructor(){this.emitter=new y,this.messages=[],this.decorations={},this.subscriptions=new v,this.subscriptions.add(this.emitter),this.subscriptions.add(atom.config.observe("linter-ui-default.decorateOnTreeView",(e=>{if(void 0===this.decorateOnTreeView)this.decorateOnTreeView=e;else if("None"===e)this.update([]),this.decorateOnTreeView=e;else{const t=this.messages;this.decorateOnTreeView=e,this.update(t)}}))),setTimeout((()=>{const e=Nt.getElement();e&&this.subscriptions.add(Ot(e,"click",le.debounce((()=>{this.update()})),{passive:!0}))}),100)}update(e=null){Array.isArray(e)&&(this.messages=e);const t=this.messages,n=Nt.getElement(),r=this.decorateOnTreeView;n&&"None"!==r&&this.applyDecorations(function(e,t){const n={},r=atom.project.getPaths();return t.forEach((function(t){const i=C(t);i&&("Files"===e?[i]:Dt(i,r)).forEach((e=>function(e,t,n){e[t]||(e[t]={info:!1,error:!1,warning:!1}),e[t][n]=!0}(n,e,t.severity)))})),n}(r,t))}applyDecorations(e){const t=Nt.getElement();if(!t)return;const n={},r={};Object.keys(this.decorations).forEach((r=>{if({}.hasOwnProperty.call(this.decorations,r)&&!e[r]){const e=n[r]||(n[r]=Nt.getElementByPath(t,r));e&&this.removeDecoration(e)}})),Object.keys(e).forEach((i=>{if(!{}.hasOwnProperty.call(e,i))return;const o=n[i]||(n[i]=Nt.getElementByPath(t,i));o&&(this.handleDecoration(o,!!this.decorations[i],e[i]),r[i]=e[i])})),this.decorations=r}handleDecoration(e,t=!1,n){let r;t&&(r=e.querySelector("linter-decoration")),r?r.className="":(r=document.createElement("linter-decoration"),e.appendChild(r)),n.error?r.classList.add("linter-error"):n.warning?r.classList.add("linter-warning"):n.info&&r.classList.add("linter-info")}removeDecoration(e){const t=e.querySelector("linter-decoration");t&&t.remove()}dispose(){this.subscriptions.dispose()}static getElement(){return document.querySelector(".tree-view")}static getElementByPath(e,t){return e.querySelector(`[data-path=${CSS.escape(t)}]`)}}class Wt{constructor(){this.name="Linter",this.signal=new se,this.commands=new ne,this.messages=[],this.statusBar=new oe,this.intentions=new ae,this.subscriptions=new v,this.idleCallbacks=new Set,this.subscriptions.add(this.signal),this.subscriptions.add(this.commands),this.subscriptions.add(this.statusBar);const e=window.requestIdleCallback((()=>{this.idleCallbacks.delete(e),this.panel=new te,this.panel.update(this.messages)}));this.idleCallbacks.add(e);const t=window.requestIdleCallback((()=>{this.idleCallbacks.delete(t),this.subscriptions.add(atom.config.observe("linter-ui-default.showDecorations",(e=>{e&&!this.editors?(this.editors=new Mt,this.editors.update({added:this.messages,removed:[],messages:this.messages})):!e&&this.editors&&(this.editors.dispose(),this.editors=null)})))}));this.idleCallbacks.add(t)}render(e){const t=this.editors;this.messages=e.messages,t&&(t.isFirstRender()?t.update({added:e.messages,removed:[],messages:e.messages}):t.update(e)),this.treeview||(this.treeview=new Nt,this.subscriptions.add(this.treeview)),this.treeview.update(e.messages),this.panel&&this.panel.update(e.messages),this.commands.update(e.messages),this.intentions.update(e.messages),this.statusBar.update(e.messages)}didBeginLinting(e,t){this.signal.didBeginLinting(e,t)}didFinishLinting(e,t){this.signal.didFinishLinting(e,t)}dispose(){this.idleCallbacks.forEach((e=>window.cancelIdleCallback(e))),this.idleCallbacks.clear(),this.subscriptions.dispose(),this.panel&&this.panel.dispose(),this.editors&&this.editors.dispose()}}const Ut=new Set,Ft=new Set;let qt,Ht;function Zt(){atom.config.get("linter-ui-default.useBusySignal")&&atom.packages.getLoadedPackage("linter-ui-default").metadata["package-deps"].push("busy-signal");const e=window.requestIdleCallback((function(){Ut.delete(e),atom.inSpecMode()||n.install("linter-ui-default")}));Ut.add(e)}function Vt(){Ut.forEach((e=>window.cancelIdleCallback(e))),Ut.clear();for(const e of Ft)e.dispose();Ft.clear()}function Kt(){const e=new Wt;return Ft.add(e),qt&&e.signal.attach(qt),e}function Gt(){return Array.from(Ft).map((e=>e.intentions))}function Yt(e){qt=e,Ft.forEach((function(e){e.signal.attach(qt)}))}function Jt(e){Ht=e,Ft.forEach((function(e){e.statusBar.attach(Ht)}))}w(exports,"activate",(function(){return Zt})),w(exports,"deactivate",(function(){return Vt})),w(exports,"provideUI",(function(){return Kt})),w(exports,"provideIntentions",(function(){return Gt})),w(exports,"consumeSignal",(function(){return Yt})),w(exports,"consumeStatusBar",(function(){return Jt}));
//# sourceMappingURL=index.js.map
